{"ast":null,"code":"var _jsxFileName = \"/Users/tkak/sample/villageon/villageon/components/user/application.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { phoneNumber } from '../../components/layout';\nimport initFirebase from '../../components/initFirebase';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\n\nrequire('firebase/auth');\n\nrequire(\"firebase/firestore\");\n\ninitFirebase();\nvar db = firebase.firestore();\n\nfunction Cancel(props) {\n  const {\n    0: cancel,\n    1: setCancel\n  } = useState(false);\n  const {\n    0: cancelError,\n    1: setCancelError\n  } = useState(false);\n\n  if (cancel) {\n    if (cancelError) {\n      __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 17\n        }\n      }, \"web\\u4E0A\\u3067\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u53EF\\u80FD\\u306A\\u65E5\\u306B\\u3061\\u3092\\u8D85\\u3048\\u3066\\u3044\\u307E\\u3059\\u3002\"), __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 17\n        }\n      }, \"\\u304A\\u624B\\u6570\\u3067\\u3059\\u304C\\u4EE5\\u4E0B\\u306E\\u96FB\\u8A71\\u756A\\u53F7\\u307E\\u3067\\u3054\\u9023\\u7D61\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 17\n        }\n      }, phoneNumber));\n    } else {\n      __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 17\n        }\n      }, \"\\u4E0A\\u8A18\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u306E\\u4E88\\u7D04\\u3092\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3057\\u307E\\u3059\\u304C\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\"), __jsx(\"div\", {\n        className: \"flex justify-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }\n      }, __jsx(\"input\", {\n        className: \"border-solid border-2 rounded p-2 mt-1 bg-white\\u3000outline-none mx-1\",\n        type: \"button\",\n        value: \"\\u306F\\u3044\",\n        onClick: e => judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }\n      }), __jsx(\"input\", {\n        className: \"border-solid border-2 rounded p-2 mt-1 bg-white\\u3000outline-none mx-1\",\n        type: \"button\",\n        value: \"\\u3044\\u3044\\u3048\",\n        onClick: hideCancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      })));\n    }\n  } else {\n    __jsx(\"div\", {\n      className: \"flex flex-col justify-center items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, __jsx(\"p\", {\n      id: props.event.id,\n      onClick: displayCancel,\n      className: \"text-red-600 cursor-pointer text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"));\n  }\n}\n\nfunction Event(props) {\n  const {\n    0: cancel,\n    1: setCancel\n  } = useState(false);\n  const {\n    0: cancelError,\n    1: setCancelError\n  } = useState(false);\n  const {\n    0: cancelDisplay,\n    1: setCancelDisplay\n  } = useState(false);\n\n  const judgeCancel = () => {\n    var today = new Date();\n    /*\n    var year = today.getFullYear()\n    var month = today.getMonth()+1\n    var day = today.getDate()\n    var array = [2,4,6,9,11]\n    var dayLeft\n    */\n\n    var eventYear = Number(props.event.id.substr(0, 4));\n    var eventMonth = Number(props.event.id.substr(4, 2));\n    var eventDay = Number(props.event.id.substr(6, 2));\n    var date2 = new Date(eventYear, eventMonth, eventDay);\n    var termDay = (date2 - today) / 86400000;\n\n    if (termDay <= 3) {\n      setCancelErrorId(eventId);\n    } else {\n      submitCancel();\n    }\n    /*\n    if (month == 2) {\n        dayLeft = 29 - day\n    } else if (array.includes(month)) {\n        dayLeft = 30 - day\n    } else {\n        dayLeft = 31 - day\n    }\n    \n    if (year == eventYear && month == eventMonth && day+3 >= eventDay) {\n        setCancelErrorId(eventId)\n    } else if (year == eventYear && month+1 == eventMonth && dayLeft + eventDay <= 3) {\n        setCancelErrorId(eventId)\n    } else {\n        submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice)\n    }\n    */\n\n  };\n\n  const submitCancel = () => {\n    if (props.gender == \"mens\") {\n      db.collection(\"events\").doc(props.event.id).update({\n        mens: firebase.firestore.FieldValue.arrayRemove({\n          id: props.user.uid,\n          mail: props.user.email,\n          name: props.user.displayName\n        })\n      }).then(function () {\n        setCancel(true);\n      }).catch(function (error) {});\n    } else {\n      db.collection(\"events\").doc(props.event.id).update({\n        womens: firebase.firestore.FieldValue.arrayRemove({\n          id: props.user.uid,\n          mail: props.user.email,\n          name: props.user.displayName\n        })\n      }).then(function () {\n        setCancel(true);\n      }).catch(function (error) {});\n    }\n  };\n\n  const displayCancel = () => {\n    setCancelDisplay(!cancelDisplay);\n  };\n\n  if (cancel) {\n    return __jsx(\"div\", {\n      className: \"list-none border-t-2 py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3057\\u307E\\u3057\\u305F\\u3002\"));\n  } else {\n    return __jsx(\"div\", {\n      className: \"list-none border-t-2 py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, __jsx(Link, {\n      href: \"/posts/[id]\",\n      as: `/posts/${props.event.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }, __jsx(\"h3\", {\n      className: \"text-blue-600 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 36\n      }\n    }, props.event.title))), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, props.event.date), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, props.event.place), __jsx(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }, props.gender == \"mens\" ? \"男性\" : \"女性\", \" 1\\u4EBA\"), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, props.gender == \"mens\" ? props.event.mensPrice : props.event.womensPrice, \"\\u5186\")), cancelDisplay ? __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 33\n      }\n    }, cancelError ? __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 37\n      }\n    }, __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 41\n      }\n    }, \"web\\u4E0A\\u3067\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u53EF\\u80FD\\u306A\\u65E5\\u306B\\u3061\\u3092\\u8D85\\u3048\\u3066\\u3044\\u307E\\u3059\\u3002\"), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 41\n      }\n    }, \"\\u304A\\u624B\\u6570\\u3067\\u3059\\u304C\\u4EE5\\u4E0B\\u306E\\u96FB\\u8A71\\u756A\\u53F7\\u307E\\u3067\\u3054\\u9023\\u7D61\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 41\n      }\n    }, phoneNumber)) : __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    }, __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }, \"\\u4E0A\\u8A18\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u306E\\u4E88\\u7D04\\u3092\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3057\\u307E\\u3059\\u304C\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\"), __jsx(\"div\", {\n      className: \"flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 41\n      }\n    }, __jsx(\"input\", {\n      className: \"border-solid border-2 rounded p-2 mt-1 bg-white\\u3000outline-none mx-1\",\n      type: \"button\",\n      value: \"\\u306F\\u3044\",\n      onClick: e => judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 45\n      }\n    }), __jsx(\"input\", {\n      className: \"border-solid border-2 rounded p-2 mt-1 bg-white\\u3000outline-none mx-1\",\n      type: \"button\",\n      value: \"\\u3044\\u3044\\u3048\",\n      onClick: displayCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 45\n      }\n    })))) : __jsx(\"div\", {\n      className: \"flex flex-col justify-center items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }, __jsx(\"p\", {\n      id: props.event.id,\n      onClick: displayCancel,\n      className: \"text-red-600 cursor-pointer text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 37\n      }\n    }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\")))));\n  }\n}\n\nexport default function Application(props) {\n  return __jsx(\"article\", {\n    className: \"jsx-3025179695\" + \" \" + \"bg-white p-6 mt-6 mb-6 sm:max-w-lg sm:mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3025179695\" + \" \" + \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    className: \"jsx-3025179695\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, \"\\u53C2\\u52A0\\u4E88\\u5B9A\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u30EA\\u30B9\\u30C8\"), __jsx(\"div\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, props.events.map(event => __jsx(\"li\", {\n    className: \"jsx-3025179695\" + \" \" + \"list-none border-t-2 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, event.mens.map(man => __jsx(\"div\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 37\n    }\n  }, man.id == props.user.uid && __jsx(Event, {\n    event: event,\n    gender: \"mens\",\n    user: props.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 45\n    }\n  }))), event.womens.map(woman => __jsx(\"div\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 37\n    }\n  }, woman.id == props.user.uid && __jsx(Event, {\n    event: event,\n    gender: \"womens\",\n    user: props.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 45\n    }\n  })))))))), __jsx(_JSXStyle, {\n    id: \"3025179695\",\n    __self: this\n  }, \".sample.jsx-3025179695{background-color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90a2FrL3NhbXBsZS92aWxsYWdlb24vdmlsbGFnZW9uL2NvbXBvbmVudHMvdXNlci9hcHBsaWNhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxTndCLEFBRzBDLHFCQUN6QiIsImZpbGUiOiIvVXNlcnMvdGthay9zYW1wbGUvdmlsbGFnZW9uL3ZpbGxhZ2Vvbi9jb21wb25lbnRzL3VzZXIvYXBwbGljYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge3Bob25lTnVtYmVyfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xheW91dCdcblxuaW1wb3J0IGluaXRGaXJlYmFzZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2luaXRGaXJlYmFzZSdcbmltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCJcbmltcG9ydCAnZmlyZWJhc2UvYXV0aCdcbnJlcXVpcmUoJ2ZpcmViYXNlL2F1dGgnKVxucmVxdWlyZShcImZpcmViYXNlL2ZpcmVzdG9yZVwiKVxuXG5pbml0RmlyZWJhc2UoKVxudmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKClcblxuZnVuY3Rpb24gQ2FuY2VsIChwcm9wcykge1xuICAgIGNvbnN0IFtjYW5jZWwsIHNldENhbmNlbF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbY2FuY2VsRXJyb3IsIHNldENhbmNlbEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG5cbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgIGlmIChjYW5jZWxFcnJvcikge1xuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPndlYuS4iuOBp+OCreODo+ODs+OCu+ODq+WPr+iDveOBquaXpeOBq+OBoeOCkui2heOBiOOBpuOBhOOBvuOBmeOAgjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPuOBiuaJi+aVsOOBp+OBmeOBjOS7peS4i+OBrumbu+ipseeVquWPt+OBvuOBp+OBlOmAo+e1oeOBj+OBoOOBleOBhDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPntwaG9uZU51bWJlcn08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7kuIroqJjjga7jgqTjg5njg7Pjg4jjga7kuojntITjgpLjgq3jg6Pjg7Pjgrvjg6vjgZfjgb7jgZnjgYzjgojjgo3jgZfjgYTjgafjgZnjgYs8L3A+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiBtdC0xIGJnLXdoaXRl44CAb3V0bGluZS1ub25lIG14LTFcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwi44Gv44GEXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ganVkZ2VDYW5jZWwoZXZlbnQuaWQsIGV2ZW50LmRhdGUsIGV2ZW50LnBsYWNlLCBldmVudC50aXRsZSwgXCJtZW5zXCIsIGV2ZW50LnByaWNlLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiBtdC0xIGJnLXdoaXRl44CAb3V0bGluZS1ub25lIG14LTFcIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCLjgYTjgYTjgYhcIiBvbkNsaWNrPXtoaWRlQ2FuY2VsfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxwIGlkPXtwcm9wcy5ldmVudC5pZH0gb25DbGljaz17ZGlzcGxheUNhbmNlbH0gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGN1cnNvci1wb2ludGVyIHRleHQtY2VudGVyXCI+44Kt44Oj44Oz44K744OrPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gRXZlbnQgKHByb3BzKSB7XG4gICAgY29uc3QgW2NhbmNlbCwgc2V0Q2FuY2VsXSA9IHVzZVN0YXRlKGZhbHNlKVxuICAgIGNvbnN0IFtjYW5jZWxFcnJvciwgc2V0Q2FuY2VsRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgW2NhbmNlbERpc3BsYXksIHNldENhbmNlbERpc3BsYXldID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgICBjb25zdCBqdWRnZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgICAvKlxuICAgICAgICB2YXIgeWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKClcbiAgICAgICAgdmFyIG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKSsxXG4gICAgICAgIHZhciBkYXkgPSB0b2RheS5nZXREYXRlKClcbiAgICAgICAgdmFyIGFycmF5ID0gWzIsNCw2LDksMTFdXG4gICAgICAgIHZhciBkYXlMZWZ0XG4gICAgICAgICovXG4gICAgICAgIHZhciBldmVudFllYXIgPSBOdW1iZXIocHJvcHMuZXZlbnQuaWQuc3Vic3RyKDAsNCkpXG4gICAgICAgIHZhciBldmVudE1vbnRoID0gTnVtYmVyKHByb3BzLmV2ZW50LmlkLnN1YnN0cig0LDIpKVxuICAgICAgICB2YXIgZXZlbnREYXkgPSBOdW1iZXIocHJvcHMuZXZlbnQuaWQuc3Vic3RyKDYsMikpXG4gICAgICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKGV2ZW50WWVhciwgZXZlbnRNb250aCwgZXZlbnREYXkpXG4gICAgICAgIHZhciB0ZXJtRGF5ID0gKGRhdGUyIC0gdG9kYXkpIC8gODY0MDAwMDA7XG4gICAgICAgIGlmICh0ZXJtRGF5IDw9IDMpIHtcbiAgICAgICAgICAgIHNldENhbmNlbEVycm9ySWQoZXZlbnRJZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Ym1pdENhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgaWYgKG1vbnRoID09IDIpIHtcbiAgICAgICAgICAgIGRheUxlZnQgPSAyOSAtIGRheVxuICAgICAgICB9IGVsc2UgaWYgKGFycmF5LmluY2x1ZGVzKG1vbnRoKSkge1xuICAgICAgICAgICAgZGF5TGVmdCA9IDMwIC0gZGF5XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXlMZWZ0ID0gMzEgLSBkYXlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHllYXIgPT0gZXZlbnRZZWFyICYmIG1vbnRoID09IGV2ZW50TW9udGggJiYgZGF5KzMgPj0gZXZlbnREYXkpIHtcbiAgICAgICAgICAgIHNldENhbmNlbEVycm9ySWQoZXZlbnRJZClcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyID09IGV2ZW50WWVhciAmJiBtb250aCsxID09IGV2ZW50TW9udGggJiYgZGF5TGVmdCArIGV2ZW50RGF5IDw9IDMpIHtcbiAgICAgICAgICAgIHNldENhbmNlbEVycm9ySWQoZXZlbnRJZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Ym1pdENhbmNlbChldmVudElkLCBldmVudERhdGUsIGV2ZW50UGxhY2UsIGV2ZW50VGl0bGUsIGV2ZW50R2VuZGVyLCBldmVudFByaWNlKVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgfVxuXG4gICAgY29uc3Qgc3VibWl0Q2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZ2VuZGVyID09IFwibWVuc1wiKSB7XG4gICAgICAgICAgICBkYi5jb2xsZWN0aW9uKFwiZXZlbnRzXCIpLmRvYyhwcm9wcy5ldmVudC5pZCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBtZW5zOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5hcnJheVJlbW92ZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBwcm9wcy51c2VyLnVpZCxcbiAgICAgICAgICAgICAgICAgICAgbWFpbDogcHJvcHMudXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcHMudXNlci5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHNldENhbmNlbCh0cnVlKVxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oXCJldmVudHNcIikuZG9jKHByb3BzLmV2ZW50LmlkKS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHdvbWVuczogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuYXJyYXlSZW1vdmUoe1xuICAgICAgICAgICAgICAgICAgICBpZDogcHJvcHMudXNlci51aWQsXG4gICAgICAgICAgICAgICAgICAgIG1haWw6IHByb3BzLnVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BzLnVzZXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBzZXRDYW5jZWwodHJ1ZSlcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkaXNwbGF5Q2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBzZXRDYW5jZWxEaXNwbGF5KCFjYW5jZWxEaXNwbGF5KVxuICAgIH1cblxuXG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LW5vbmUgYm9yZGVyLXQtMiBweS00XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7jgq3jg6Pjg7Pjgrvjg6vjgZfjgb7jgZfjgZ/jgII8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3Qtbm9uZSBib3JkZXItdC0yIHB5LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3Bvc3RzL1tpZF1cIiBhcz17YC9wb3N0cy8ke3Byb3BzLmV2ZW50LmlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YT48aDMgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCB0ZXh0LWNlbnRlclwiPntwcm9wcy5ldmVudC50aXRsZX08L2gzPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57cHJvcHMuZXZlbnQuZGF0ZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57cHJvcHMuZXZlbnQucGxhY2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+e3Byb3BzLmdlbmRlciA9PSBcIm1lbnNcIiA/IFwi55S35oCnXCIgOiBcIuWls+aAp1wifSAx5Lq6PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPntwcm9wcy5nZW5kZXIgPT0gXCJtZW5zXCIgPyBwcm9wcy5ldmVudC5tZW5zUHJpY2UgOiBwcm9wcy5ldmVudC53b21lbnNQcmljZX3lhoY8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhbmNlbERpc3BsYXkgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhbmNlbEVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj53ZWLkuIrjgafjgq3jg6Pjg7Pjgrvjg6vlj6/og73jgarml6XjgavjgaHjgpLotoXjgYjjgabjgYTjgb7jgZnjgII8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7jgYrmiYvmlbDjgafjgZnjgYzku6XkuIvjga7pm7voqbHnlarlj7fjgb7jgafjgZTpgKPntaHjgY/jgaDjgZXjgYQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57cGhvbmVOdW1iZXJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7kuIroqJjjga7jgqTjg5njg7Pjg4jjga7kuojntITjgpLjgq3jg6Pjg7Pjgrvjg6vjgZfjgb7jgZnjgYzjgojjgo3jgZfjgYTjgafjgZnjgYs8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiBtdC0xIGJnLXdoaXRl44CAb3V0bGluZS1ub25lIG14LTFcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwi44Gv44GEXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ganVkZ2VDYW5jZWwoZXZlbnQuaWQsIGV2ZW50LmRhdGUsIGV2ZW50LnBsYWNlLCBldmVudC50aXRsZSwgXCJtZW5zXCIsIGV2ZW50LnByaWNlLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiBtdC0xIGJnLXdoaXRl44CAb3V0bGluZS1ub25lIG14LTFcIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCLjgYTjgYTjgYhcIiBvbkNsaWNrPXtkaXNwbGF5Q2FuY2VsfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGlkPXtwcm9wcy5ldmVudC5pZH0gb25DbGljaz17ZGlzcGxheUNhbmNlbH0gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGN1cnNvci1wb2ludGVyIHRleHQtY2VudGVyXCI+44Kt44Oj44Oz44K744OrPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHBsaWNhdGlvbiAocHJvcHMpIHtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiBtdC02IG1iLTYgc206bWF4LXctbGcgc206bXgtYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7lj4LliqDkuojlrprjga7jgqTjg5njg7Pjg4jjg6rjgrnjg4g8L2gyPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wcy5ldmVudHMubWFwKChldmVudCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LW5vbmUgYm9yZGVyLXQtMiBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5tZW5zLm1hcCgobWFuKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYW4uaWQgPT0gcHJvcHMudXNlci51aWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudD17ZXZlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXI9XCJtZW5zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQud29tZW5zLm1hcCgod29tYW4pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3dvbWFuLmlkID09IHByb3BzLnVzZXIudWlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ9e2V2ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyPVwid29tZW5zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgICAgIC5zYW1wbGUge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8L2FydGljbGU+XG4gICAgKVxufSJdfQ== */\\n/*@ sourceURL=/Users/tkak/sample/villageon/villageon/components/user/application.js */\"));\n}","map":{"version":3,"sources":["/Users/tkak/sample/villageon/villageon/components/user/application.js"],"names":["Link","useState","useEffect","phoneNumber","initFirebase","firebase","require","db","firestore","Cancel","props","cancel","setCancel","cancelError","setCancelError","e","judgeCancel","event","id","date","place","title","price","hideCancel","displayCancel","Event","cancelDisplay","setCancelDisplay","today","Date","eventYear","Number","substr","eventMonth","eventDay","date2","termDay","setCancelErrorId","eventId","submitCancel","gender","collection","doc","update","mens","FieldValue","arrayRemove","user","uid","mail","email","name","displayName","then","catch","error","womens","mensPrice","womensPrice","Application","events","map","man","woman"],"mappings":"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","sourcesContent":["import Link from 'next/link'\nimport { useState, useEffect } from 'react'\nimport {phoneNumber} from '../../components/layout'\n\nimport initFirebase from '../../components/initFirebase'\nimport firebase from \"firebase/app\"\nimport 'firebase/auth'\nrequire('firebase/auth')\nrequire(\"firebase/firestore\")\n\ninitFirebase()\nvar db = firebase.firestore()\n\nfunction Cancel (props) {\n    const [cancel, setCancel] = useState(false)\n    const [cancelError, setCancelError] = useState(false)\n\n\n    if (cancel) {\n        if (cancelError) {\n            <div>\n                <p className=\"text-center\">web上でキャンセル可能な日にちを超えています。</p>\n                <p className=\"text-center\">お手数ですが以下の電話番号までご連絡ください</p>\n                <p className=\"text-center\">{phoneNumber}</p>\n            </div>\n        } else {\n            <div>\n                <p className=\"text-center\">上記のイベントの予約をキャンセルしますがよろしいですか</p>\n                <div className=\"flex justify-center\">\n                    <input \n                        className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" \n                        type=\"button\" \n                        value=\"はい\" \n                        onClick={(e) => judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e)}\n                    />\n                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" type=\"button\" value=\"いいえ\" onClick={hideCancel}/>\n                </div>\n            </div>\n        }\n    } else {\n        <div className=\"flex flex-col justify-center items-center\">\n            <p id={props.event.id} onClick={displayCancel} className=\"text-red-600 cursor-pointer text-center\">キャンセル</p>\n        </div>\n    }\n\n}\n\nfunction Event (props) {\n    const [cancel, setCancel] = useState(false)\n    const [cancelError, setCancelError] = useState(false)\n    const [cancelDisplay, setCancelDisplay] = useState(false)\n\n    const judgeCancel = () => {\n        var today = new Date()\n        /*\n        var year = today.getFullYear()\n        var month = today.getMonth()+1\n        var day = today.getDate()\n        var array = [2,4,6,9,11]\n        var dayLeft\n        */\n        var eventYear = Number(props.event.id.substr(0,4))\n        var eventMonth = Number(props.event.id.substr(4,2))\n        var eventDay = Number(props.event.id.substr(6,2))\n        var date2 = new Date(eventYear, eventMonth, eventDay)\n        var termDay = (date2 - today) / 86400000;\n        if (termDay <= 3) {\n            setCancelErrorId(eventId)\n        } else {\n            submitCancel()\n        }\n        /*\n        if (month == 2) {\n            dayLeft = 29 - day\n        } else if (array.includes(month)) {\n            dayLeft = 30 - day\n        } else {\n            dayLeft = 31 - day\n        }\n        \n        if (year == eventYear && month == eventMonth && day+3 >= eventDay) {\n            setCancelErrorId(eventId)\n        } else if (year == eventYear && month+1 == eventMonth && dayLeft + eventDay <= 3) {\n            setCancelErrorId(eventId)\n        } else {\n            submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice)\n        }\n        */\n    }\n\n    const submitCancel = () => {\n        if (props.gender == \"mens\") {\n            db.collection(\"events\").doc(props.event.id).update({\n                mens: firebase.firestore.FieldValue.arrayRemove({\n                    id: props.user.uid,\n                    mail: props.user.email,\n                    name: props.user.displayName,\n                })\n            }).then(function(){\n                setCancel(true)\n            }).catch(function(error){\n            })\n        } else {\n            db.collection(\"events\").doc(props.event.id).update({\n                womens: firebase.firestore.FieldValue.arrayRemove({\n                    id: props.user.uid,\n                    mail: props.user.email,\n                    name: props.user.displayName,\n                })\n            }).then(function(){\n                setCancel(true)\n            }).catch(function(error){\n            })\n        }\n    }\n\n    const displayCancel = () => {\n        setCancelDisplay(!cancelDisplay)\n    }\n\n\n    if (cancel) {\n        return (\n            <div className=\"list-none border-t-2 py-4\">\n                <p className=\"text-center\">キャンセルしました。</p>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"list-none border-t-2 py-4\">\n                <div>\n                        <div>\n                            <Link href=\"/posts/[id]\" as={`/posts/${props.event.id}`}>\n                                <a><h3 className=\"text-blue-600 text-center\">{props.event.title}</h3></a>\n                            </Link>\n                            <p className=\"text-center\">{props.event.date}</p>\n                            <p className=\"text-center\">{props.event.place}</p>\n                            <div className=\"\">\n                                <p className=\"text-center\">{props.gender == \"mens\" ? \"男性\" : \"女性\"} 1人</p>\n                                <p className=\"text-center\">{props.gender == \"mens\" ? props.event.mensPrice : props.event.womensPrice}円</p>\n                            </div>\n                            {cancelDisplay ? \n                                <div>\n                                {cancelError ?\n                                    <div>\n                                        <p className=\"text-center\">web上でキャンセル可能な日にちを超えています。</p>\n                                        <p className=\"text-center\">お手数ですが以下の電話番号までご連絡ください</p>\n                                        <p className=\"text-center\">{phoneNumber}</p>\n                                    </div>\n                                :\n                                    <div>\n                                        <p className=\"text-center\">上記のイベントの予約をキャンセルしますがよろしいですか</p>\n                                        <div className=\"flex justify-center\">\n                                            <input \n                                                className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" \n                                                type=\"button\" \n                                                value=\"はい\" \n                                                onClick={(e) => judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e)}\n                                            />\n                                            <input className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" type=\"button\" value=\"いいえ\" onClick={displayCancel}/>\n                                        </div>\n                                    </div>\n                                }\n                                </div>\n                            :\n                                <div className=\"flex flex-col justify-center items-center\">\n                                    <p id={props.event.id} onClick={displayCancel} className=\"text-red-600 cursor-pointer text-center\">キャンセル</p>\n                                </div>\n                            }\n                        </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default function Application (props) {\n\n    return (\n        <article className=\"bg-white p-6 mt-6 mb-6 sm:max-w-lg sm:mx-auto\">\n            <div className=\"w-full\">\n                <h2 className=\"text-center\">参加予定のイベントリスト</h2>\n                <div>\n                    <ul>\n                        {props.events.map((event) => (\n                            <li className=\"list-none border-t-2 py-4\">\n                                {event.mens.map((man) => (\n                                    <div>\n                                        {man.id == props.user.uid &&\n                                            <Event\n                                                event={event}\n                                                gender=\"mens\"\n                                                user={props.user}\n                                            />\n                                        }\n                                    </div>\n                                ))}\n                                {event.womens.map((woman) => (\n                                    <div>\n                                        {woman.id == props.user.uid &&\n                                            <Event\n                                                event={event}\n                                                gender=\"womens\"\n                                                user={props.user}\n                                            />\n                                        }\n                                    </div>\n                                ))}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n            <style jsx>{`\n                .sample {\n                    background-color: red;\n                } \n            `}\n            </style>\n        </article>\n    )\n}"]},"metadata":{},"sourceType":"module"}