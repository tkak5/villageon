{"ast":null,"code":"var _jsxFileName = \"/Users/tkak/sample/villageon/villageon/pages/user/details.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout, { phoneNumber, url } from '../../components/layout';\nimport Application from '../../components/user/application';\nimport Admin from '../../components/user/admin';\nimport Head from 'next/head';\nimport styles from '../../styles/user.module.scss';\nimport { useState, useEffect } from 'react';\nimport AnimateHeight from 'react-animate-height';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { getSortedPostsData } from '../../lib/posts';\nimport initFirebase from '../../components/initFirebase';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\n\nrequire('firebase/auth');\n\nrequire(\"firebase/firestore\");\n\ninitFirebase();\nvar db = firebase.firestore();\nvar getOptions = {\n  source: 'cache'\n};\nexport async function getStaticProps() {\n  const allEventsData = await db.collection('events').orderBy(\"date\").get().then(function (querySnapshot) {\n    var datas = [];\n    querySnapshot.docs.forEach(doc => {\n      datas.push(doc.data());\n    });\n    return datas;\n  });\n  return {\n    props: {\n      allEventsData\n    }\n  };\n}\nexport default function details({\n  allEventsData\n}) {\n  const {\n    0: user,\n    1: setUser\n  } = useState(\"\");\n  const {\n    0: verifyMessage,\n    1: setVerifyMessage\n  } = useState(\"認証メールを送る\");\n  const {\n    0: toggleId,\n    1: setToggleId\n  } = useState(\"\"); //name\n\n  const {\n    0: nameError,\n    1: setNameError\n  } = useState(\"\");\n  const {\n    0: newFirst,\n    1: setNewFirst\n  } = useState(\"\");\n  const {\n    0: newLast,\n    1: setNewLast\n  } = useState(\"\"); //mail\n\n  const {\n    0: newMail,\n    1: setNewMail\n  } = useState(\"\");\n  const {\n    0: mailError,\n    1: setMailError\n  } = useState(\"\");\n  const {\n    0: reAuth,\n    1: setReAuth\n  } = useState(false); //password\n\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: newPassword,\n    1: setNewPassword\n  } = useState(\"\");\n  const {\n    0: passwordError,\n    1: setPasswordError\n  } = useState(\"\");\n  const {\n    0: newPasswordError,\n    1: setNewPasswordError\n  } = useState(\"\");\n  const {\n    0: passwordToggle,\n    1: setPasswordToggle\n  } = useState(true);\n  const {\n    0: newPasswordToggle,\n    1: setNewPasswordToggle\n  } = useState(true); //database\n\n  const {\n    0: admin,\n    1: setAdmin\n  } = useState(false); //useEffect\n\n  const {\n    0: mount,\n    1: setMount\n  } = useState(true); //admin\n\n  const {\n    0: mensName,\n    1: setMensName\n  } = useState({});\n  const {\n    0: womensName,\n    1: setWomensName\n  } = useState({});\n  const {\n    0: mensEmail,\n    1: setMensEmail\n  } = useState({});\n  const {\n    0: womensEmail,\n    1: setWomensEmail\n  } = useState({});\n  const {\n    0: eventId,\n    1: setEventId\n  } = useState(\"\");\n  const {\n    0: eventMensName,\n    1: setEventMensName\n  } = useState([]);\n  const {\n    0: eventMensMail,\n    1: setEventMensMail\n  } = useState([]);\n  const {\n    0: eventWomensName,\n    1: setEventWomensName\n  } = useState([]);\n  const {\n    0: eventWomensMail,\n    1: setEventWomensMail\n  } = useState([]);\n  const {\n    0: userData,\n    1: setUserData\n  } = useState(\"\");\n  useEffect(() => {\n    if (mount) {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          setUser(user);\n          db.collection('users').doc(user.uid).get().then(function (doc) {\n            if (doc.exists) {\n              setUserData(doc.data());\n            }\n\n            setMount(false);\n          });\n        } else {\n          if (false) {\n            Router.push(\"/\");\n          } // No user is signed in.\n\n        }\n      });\n    }\n  });\n\n  const changeFirst = event => {\n    setNewFirst(event.target.value);\n  };\n\n  const changeLast = event => {\n    setNewLast(event.target.value);\n  }; //change displayname to newer\n\n\n  const submitName = event => {\n    if (newLast && newFirst) {\n      user.updateProfile({\n        displayName: `${newLast} ${newFirst}`\n      }).then(function () {\n        setToggleId(\"\");\n        setNewFirst(\"\");\n        setNewLast(\"\");\n      }).catch(function (error) {\n        setNameError(error.message);\n      });\n    } else {\n      setNameError(\"入力してください\");\n    }\n  }; //change email to newer\n\n\n  const submitMail = () => {\n    user.updateEmail(newMail).then(function () {\n      setToggleId(\"\");\n      setNewMail(\"\");\n      setMailError(\"\");\n    }).catch(function (error) {\n      if (error.code == \"auth/invalid-email\") {\n        setMailError(\"メールアドレスの形式が正しくないです\");\n      } else if (error.code == \"auth/email-already-in-use\") {\n        setMailError(\"既に使われています\");\n      } else if (error.code == \"auth/requires-recent-login\") {\n        setReAuth(true);\n      }\n    });\n  };\n\n  const submitMailAfterReAuth = () => {\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, password);\n    user.reauthenticateWithCredential(cred).then(function () {\n      submitMail();\n      setPasswordError(\"\");\n      setToggleId(\"\");\n      setReAuth(false);\n    }).catch(function (error) {\n      if (error.code == \"auth/wrong-password\") {\n        setPasswordError(\"パスワードが違います\");\n      } else {\n        setPasswordError(error.message);\n      }\n    });\n  };\n\n  const changeMail = event => {\n    var mail = event.target.value;\n    setNewMail(mail);\n  }; //change password to newer\n\n\n  const submitPasswordAfterReAuth = () => {\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, password);\n    user.reauthenticateWithCredential(cred).then(function () {\n      setPasswordError(\"\");\n      submitPassword();\n    }).catch(function (error) {\n      if (error.code == \"auth/wrong-password\") {\n        setPasswordError(\"パスワードが違います\");\n      } else {\n        setPasswordError(error.message);\n      }\n    });\n  };\n\n  const submitPassword = () => {\n    user.updatePassword(newPassword).then(function () {\n      setPassword(\"\");\n      setPasswordError(\"\");\n      setToggleId(\"\");\n      setReAuth(false);\n    }).catch(function (error) {\n      if (error.code == \"auth/weak-password\") {\n        setNewPasswordError(\"6文字以上で設定してください\");\n      } else {\n        setNewPasswordError(error.message);\n      }\n    });\n  }; //switch password display or none\n\n\n  const togglePassword = () => {\n    setPasswordToggle(!passwordToggle);\n  }; //switch newpassword display or none\n\n\n  const toggleNewPassword = () => {\n    setNewPasswordToggle(!newPasswordToggle);\n  };\n\n  const changePassword = event => {\n    var pass = event.target.value;\n    setPassword(pass);\n  };\n\n  const changeNewPassword = event => {\n    var pass = event.target.value;\n    setNewPassword(pass);\n  }; //send verification for mail\n\n\n  const submitVerification = () => {\n    var actionCodeSettings = {\n      url: `${url}/user/details`\n    };\n    user.sendEmailVerification(actionCodeSettings).then(function () {\n      setVerifyMessage(\"認証メールを送信しました。\");\n    }).catch(function (error) {\n      setVerifyMessage(error.code);\n    });\n  }; //signout\n\n\n  const handleSignOut = () => {\n    firebase.auth().signOut().then(function () {\n      Router.replace(\"/\");\n    }).catch(function (error) {// An error happened.\n    });\n  }; //reauthentication\n  //damy\n\n\n  const handleNone = () => {}; // toggle setting id\n\n\n  const changeId = event => {\n    var newId = event.target.id;\n\n    if (newId == toggleId) {\n      setToggleId(\"\");\n    } else {\n      setToggleId(newId);\n    }\n  }; //delete account\n\n\n  const submitDelete = () => {\n    var cred = firebase.auth.EmailAuthProvider.credential(user.email, password);\n    user.reauthenticateWithCredential(cred).then(function () {\n      setPasswordError(\"\");\n      db.collection(\"users\").doc(user.uid).delete().then(function () {\n        user.delete();\n      });\n    }).catch(function (error) {\n      if (error.code == \"auth/wrong-password\") {\n        setPasswordError(\"パスワードが違います\");\n      } else {\n        setPasswordError(error.message);\n      }\n    });\n  };\n\n  const changeEventId = event => {\n    var id = event.target.id;\n    setEventId(id);\n    setEventMensName(mensName[id]);\n    setEventMensMail(mensEmail[id]);\n    setEventWomensName(womensName[id]);\n    setEventWomensMail(womensEmail[id]);\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  }, \"details\")), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"sample\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    className: \"jsx-3071838399\" + \" \" + \"bg-white p-6 mt-6 sm:max-w-lg sm:mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \" border-b-2 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 25\n    }\n  }, \"\\u540D\\u524D\"), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, user.displayName), __jsx(\"p\", {\n    id: \"name\",\n    onClick: changeId,\n    className: \"jsx-3071838399\" + \" \" + \"text-blue-600 cursor-pointer text-xs text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 25\n    }\n  }, \"\\u7DE8\\u96C6\"), __jsx(AnimateHeight, {\n    duration: 300,\n    height: toggleId === \"name\" ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"flex flex-col jusify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 29\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"\\u59D3\",\n    onChange: changeLast,\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 w-full outline-none max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 33\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"\\u540D\",\n    onChange: changeFirst,\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 w-full outline-none max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 33\n    }\n  }), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 33\n    }\n  }, nameError), __jsx(\"input\", {\n    type: \"button\",\n    onClick: submitName,\n    value: \"\\u5909\\u66F4\",\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 33\n    }\n  })))), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-b-2 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 25\n    }\n  }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, user.email), __jsx(\"p\", {\n    id: \"mail\",\n    onClick: changeId,\n    className: \"jsx-3071838399\" + \" \" + \"text-blue-600 cursor-pointer text-xs text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, \"\\u7DE8\\u96C6\"), __jsx(AnimateHeight, {\n    duration: 300,\n    height: toggleId === \"mail\" ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"flex flex-col justify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"\\u65B0\\u3057\\u3044\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",\n    onChange: changeMail,\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 w-full outline-none max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 37\n    }\n  }), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 37\n    }\n  }, mailError), __jsx(\"input\", {\n    type: \"button\",\n    onClick: submitMail,\n    value: \"\\u5909\\u66F4\",\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 37\n    }\n  }))), __jsx(AnimateHeight, {\n    duration: 300,\n    height: reAuth ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"flex flex-col justify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3071838399\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 37\n    }\n  }, \"\\u6642\\u9593\\u304C\\u7D4C\\u3063\\u3066\\u3044\\u308B\\u305F\\u3081\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 w-full flex max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 37\n    }\n  }, __jsx(\"input\", {\n    placeholder: \"\\u73FE\\u5728\\u306E\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n    type: passwordToggle ? \"password\" : \"text\",\n    onChange: changePassword,\n    className: \"jsx-3071838399\" + \" \" + \"w-4/5 outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 41\n    }\n  }), __jsx(\"input\", {\n    type: \"button\",\n    onClick: togglePassword,\n    value: passwordToggle ? \"表示\" : \"非表示\",\n    className: \"jsx-3071838399\" + \" \" + \"w-1/5 outline-none bg-white opacity-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 41\n    }\n  })), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 37\n    }\n  }, passwordError), __jsx(\"input\", {\n    type: \"button\",\n    onClick: submitMailAfterReAuth,\n    value: \"\\u8A8D\\u8A3C\",\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-b-2 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 25\n    }\n  }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 25\n    }\n  }, \"\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\"), __jsx(\"p\", {\n    id: \"password\",\n    onClick: changeId,\n    className: \"jsx-3071838399\" + \" \" + \"text-blue-600 cursor-pointer text-xs text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 25\n    }\n  }, \"\\u7DE8\\u96C6\"), __jsx(AnimateHeight, {\n    duration: 300,\n    height: toggleId === \"password\" ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"flex flex-col justify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 w-full flex max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 37\n    }\n  }, __jsx(\"input\", {\n    placeholder: \"\\u73FE\\u5728\\u306E\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n    type: passwordToggle ? \"password\" : \"text\",\n    onChange: changePassword,\n    className: \"jsx-3071838399\" + \" \" + \"w-4/5 outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 41\n    }\n  }), __jsx(\"input\", {\n    type: \"button\",\n    onClick: togglePassword,\n    value: passwordToggle ? \"表示\" : \"非表示\",\n    className: \"jsx-3071838399\" + \" \" + \"w-1/5 outline-none bg-white opacity-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 41\n    }\n  })), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 37\n    }\n  }, passwordError), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 w-full flex mt-1 max-w-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 37\n    }\n  }, __jsx(\"input\", {\n    placeholder: \"\\u65B0\\u3057\\u3044\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n    type: newPasswordToggle ? \"password\" : \"text\",\n    onChange: changeNewPassword,\n    className: \"jsx-3071838399\" + \" \" + \"w-4/5 outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 41\n    }\n  }), __jsx(\"input\", {\n    type: \"button\",\n    onClick: toggleNewPassword,\n    value: newPasswordToggle ? \"表示\" : \"非表示\",\n    className: \"jsx-3071838399\" + \" \" + \"w-1/5 outline-none bg-white opacity-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 41\n    }\n  })), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 37\n    }\n  }, newPasswordError), __jsx(\"input\", {\n    type: \"button\",\n    onClick: submitPasswordAfterReAuth,\n    value: \"\\u5909\\u66F4\",\n    className: \"jsx-3071838399\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"border-b-2 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 29\n    }\n  }, \"\\u30E1\\u30FC\\u30EB\\u8A8D\\u8A3C\"), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 29\n    }\n  }, user.emailVerified ? \"認証済み\" : \"未認証\"), __jsx(\"p\", {\n    onClick: user.emailVerified ? handleNone : submitVerification,\n    className: \"jsx-3071838399\" + \" \" + \"text-blue-600 cursor-pointer text-xs text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 29\n    }\n  }, user.emailVerified ? \"\" : verifyMessage)))), __jsx(\"div\", {\n    className: \"jsx-3071838399\" + \" \" + \"py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    onClick: handleSignOut,\n    className: \"jsx-3071838399\" + \" \" + \"text-blue-600 cursor-pointer text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 21\n    }\n  }, \"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"), __jsx(\"p\", {\n    id: \"delete\",\n    onClick: changeId,\n    className: \"jsx-3071838399\" + \" \" + \"text-red-600 cursor-pointer text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 21\n    }\n  }, \"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3092\\u524A\\u9664\\u3059\\u308B\"), __jsx(AnimateHeight, {\n    duration: 300,\n    height: toggleId === \"delete\" ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3071838399\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    placeholder: \"\\u73FE\\u5728\\u306E\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n    type: passwordToggle ? \"password\" : \"text\",\n    onChange: changePassword,\n    className: \"jsx-3071838399\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 29\n    }\n  }), __jsx(\"input\", {\n    type: \"button\",\n    onClick: togglePassword,\n    value: \"\\u8868\\u793A\",\n    className: \"jsx-3071838399\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 29\n    }\n  })), __jsx(\"p\", {\n    className: \"jsx-3071838399\" + \" \" + (styles.alert || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 25\n    }\n  }, passwordError), __jsx(\"input\", {\n    type: \"button\",\n    onClick: submitDelete,\n    value: \"\\u524A\\u9664\",\n    className: \"jsx-3071838399\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 25\n    }\n  })))), __jsx(Application, {\n    events: allEventsData,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }\n  }), userData.admin && __jsx(Admin, {\n    events: allEventsData,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"3071838399\",\n    __self: this\n  }, \".sample.jsx-3071838399{-webkit-animation:rotation-jsx-3071838399 2s ease 0s 1 alternate none running;animation:rotation-jsx-3071838399 2s ease 0s 1 alternate none running;}@-webkit-keyframes rotation-jsx-3071838399{0%{opacity;0%;}100%{opacity;100%;}}@keyframes rotation-jsx-3071838399{0%{opacity;0%;}100%{opacity;100%;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90a2FrL3NhbXBsZS92aWxsYWdlb24vdmlsbGFnZW9uL3BhZ2VzL3VzZXIvZGV0YWlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnYXdCLEFBRzRFLEFBSTVDLEFBR0EsUUFIRyxBQUdFLEdBRmhCLEVBR0EsdUlBUEoiLCJmaWxlIjoiL1VzZXJzL3RrYWsvc2FtcGxlL3ZpbGxhZ2Vvbi92aWxsYWdlb24vcGFnZXMvdXNlci9kZXRhaWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExheW91dCwgeyBwaG9uZU51bWJlciwgdXJsIH1mcm9tICcuLi8uLi9jb21wb25lbnRzL2xheW91dCdcbmltcG9ydCBBcHBsaWNhdGlvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL3VzZXIvYXBwbGljYXRpb24nXG5pbXBvcnQgQWRtaW4gZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2VyL2FkbWluJ1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJ1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi8uLi9zdHlsZXMvdXNlci5tb2R1bGUuc2NzcydcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBBbmltYXRlSGVpZ2h0IGZyb20gJ3JlYWN0LWFuaW1hdGUtaGVpZ2h0J1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCB7IGdldFNvcnRlZFBvc3RzRGF0YSB9IGZyb20gJy4uLy4uL2xpYi9wb3N0cydcblxuaW1wb3J0IGluaXRGaXJlYmFzZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2luaXRGaXJlYmFzZSdcbmltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCJcbmltcG9ydCAnZmlyZWJhc2UvYXV0aCdcbnJlcXVpcmUoJ2ZpcmViYXNlL2F1dGgnKVxucmVxdWlyZShcImZpcmViYXNlL2ZpcmVzdG9yZVwiKVxuXG5pbml0RmlyZWJhc2UoKVxudmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKClcbnZhciBnZXRPcHRpb25zID0ge1xuICAgIHNvdXJjZTogJ2NhY2hlJ1xufVxuXG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN0YXRpY1Byb3BzKCkge1xuICAgIGNvbnN0IGFsbEV2ZW50c0RhdGEgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdldmVudHMnKS5vcmRlckJ5KFwiZGF0ZVwiKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHF1ZXJ5U25hcHNob3QpIHtcbiAgICAgICAgdmFyIGRhdGFzID0gW11cbiAgICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICBkYXRhcy5wdXNoKGRvYy5kYXRhKCkpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBkYXRhc1xuICAgIH0pXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGFsbEV2ZW50c0RhdGFcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG5cblxuICBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRhaWxzKHsgYWxsRXZlbnRzRGF0YSB9KSB7XG4gICAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUoXCJcIilcbiAgICBjb25zdCBbdmVyaWZ5TWVzc2FnZSwgc2V0VmVyaWZ5TWVzc2FnZV0gPSB1c2VTdGF0ZShcIuiqjeiovOODoeODvOODq+OCkumAgeOCi1wiKVxuICAgIGNvbnN0IFt0b2dnbGVJZCwgc2V0VG9nZ2xlSWRdID0gdXNlU3RhdGUoXCJcIilcbiAgICAvL25hbWVcbiAgICBjb25zdCBbbmFtZUVycm9yLCBzZXROYW1lRXJyb3JdID0gdXNlU3RhdGUoXCJcIilcbiAgICBjb25zdCBbbmV3Rmlyc3QsIHNldE5ld0ZpcnN0XSA9IHVzZVN0YXRlKFwiXCIpXG4gICAgY29uc3QgW25ld0xhc3QsIHNldE5ld0xhc3RdID0gdXNlU3RhdGUoXCJcIilcbiAgICAvL21haWxcbiAgICBjb25zdCBbbmV3TWFpbCwgc2V0TmV3TWFpbF0gPSB1c2VTdGF0ZShcIlwiKVxuICAgIGNvbnN0IFttYWlsRXJyb3IsIHNldE1haWxFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKVxuICAgIGNvbnN0IFtyZUF1dGgsIHNldFJlQXV0aF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICAvL3Bhc3N3b3JkXG4gICAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKVxuICAgIGNvbnN0IFtuZXdQYXNzd29yZCwgc2V0TmV3UGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIilcbiAgICBjb25zdCBbcGFzc3dvcmRFcnJvciwgc2V0UGFzc3dvcmRFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKVxuICAgIGNvbnN0IFtuZXdQYXNzd29yZEVycm9yLCBzZXROZXdQYXNzd29yZEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpXG4gICAgY29uc3QgW3Bhc3N3b3JkVG9nZ2xlLCBzZXRQYXNzd29yZFRvZ2dsZV0gPSB1c2VTdGF0ZSh0cnVlKVxuICAgIGNvbnN0IFtuZXdQYXNzd29yZFRvZ2dsZSwgc2V0TmV3UGFzc3dvcmRUb2dnbGVdID0gdXNlU3RhdGUodHJ1ZSlcbiAgICAvL2RhdGFiYXNlXG4gICAgY29uc3QgW2FkbWluLCBzZXRBZG1pbl0gPSB1c2VTdGF0ZShmYWxzZSkgXG4gICAgLy91c2VFZmZlY3RcbiAgICBjb25zdCBbbW91bnQsIHNldE1vdW50XSA9IHVzZVN0YXRlKHRydWUpXG4gICAgLy9hZG1pblxuICAgIGNvbnN0IFttZW5zTmFtZSwgc2V0TWVuc05hbWVdID0gdXNlU3RhdGUoe30pXG4gICAgY29uc3QgW3dvbWVuc05hbWUsIHNldFdvbWVuc05hbWVdID0gdXNlU3RhdGUoe30pXG4gICAgY29uc3QgW21lbnNFbWFpbCwgc2V0TWVuc0VtYWlsXSA9IHVzZVN0YXRlKHt9KVxuICAgIGNvbnN0IFt3b21lbnNFbWFpbCwgc2V0V29tZW5zRW1haWxdID0gdXNlU3RhdGUoe30pXG4gICAgY29uc3QgW2V2ZW50SWQsIHNldEV2ZW50SWRdID0gdXNlU3RhdGUoXCJcIilcbiAgICBjb25zdCBbZXZlbnRNZW5zTmFtZSwgc2V0RXZlbnRNZW5zTmFtZV0gPSB1c2VTdGF0ZShbXSlcbiAgICBjb25zdCBbZXZlbnRNZW5zTWFpbCwgc2V0RXZlbnRNZW5zTWFpbF0gPSB1c2VTdGF0ZShbXSlcbiAgICBjb25zdCBbZXZlbnRXb21lbnNOYW1lLCBzZXRFdmVudFdvbWVuc05hbWVdID0gdXNlU3RhdGUoW10pXG4gICAgY29uc3QgW2V2ZW50V29tZW5zTWFpbCwgc2V0RXZlbnRXb21lbnNNYWlsXSA9IHVzZVN0YXRlKFtdKVxuICAgIGNvbnN0IFt1c2VyRGF0YSwgc2V0VXNlckRhdGFdID0gdXNlU3RhdGUoXCJcIilcblxuICAgIFxuXG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1vdW50KSB7XG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbi5cbiAgICAgICAgICAgICAgICAgICAgc2V0VXNlcih1c2VyKVxuICAgICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh1c2VyLnVpZCkuZ2V0KCkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MuZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlckRhdGEoZG9jLmRhdGEoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vdW50KGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlci5wdXNoKFwiL1wiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHVzZXIgaXMgc2lnbmVkIGluLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gICAgICAgIFxuICAgIH0pXG5cbiAgICBcblxuICAgIGNvbnN0IGNoYW5nZUZpcnN0ID0gZXZlbnQgPT4ge1xuICAgICAgICBzZXROZXdGaXJzdChldmVudC50YXJnZXQudmFsdWUpXG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlTGFzdCA9IGV2ZW50ID0+IHtcbiAgICAgICAgc2V0TmV3TGFzdChldmVudC50YXJnZXQudmFsdWUpXG4gICAgfVxuXG4gICAgLy9jaGFuZ2UgZGlzcGxheW5hbWUgdG8gbmV3ZXJcbiAgICBjb25zdCBzdWJtaXROYW1lID0gZXZlbnQgPT4ge1xuICAgICAgICBpZiAobmV3TGFzdCAmJiBuZXdGaXJzdCkge1xuICAgICAgICAgICAgdXNlci51cGRhdGVQcm9maWxlKHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogYCR7bmV3TGFzdH0gJHtuZXdGaXJzdH1gXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldFRvZ2dsZUlkKFwiXCIpXG4gICAgICAgICAgICAgICAgc2V0TmV3Rmlyc3QoXCJcIilcbiAgICAgICAgICAgICAgICBzZXROZXdMYXN0KFwiXCIpXG4gICAgICAgICAgICB9KSAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZXROYW1lRXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXROYW1lRXJyb3IoXCLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYRcIilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vY2hhbmdlIGVtYWlsIHRvIG5ld2VyXG4gICAgY29uc3Qgc3VibWl0TWFpbCA9ICgpID0+IHtcbiAgICAgICAgdXNlci51cGRhdGVFbWFpbChuZXdNYWlsKS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0VG9nZ2xlSWQoXCJcIilcbiAgICAgICAgICAgICAgICBzZXROZXdNYWlsKFwiXCIpXG4gICAgICAgICAgICAgICAgc2V0TWFpbEVycm9yKFwiXCIpXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09IFwiYXV0aC9pbnZhbGlkLWVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWFpbEVycm9yKFwi44Oh44O844Or44Ki44OJ44Os44K544Gu5b2i5byP44GM5q2j44GX44GP44Gq44GE44Gn44GZXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09IFwiYXV0aC9lbWFpbC1hbHJlYWR5LWluLXVzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldE1haWxFcnJvcihcIuaXouOBq+S9v+OCj+OCjOOBpuOBhOOBvuOBmVwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PSBcImF1dGgvcmVxdWlyZXMtcmVjZW50LWxvZ2luXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVBdXRoKHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgc3VibWl0TWFpbEFmdGVyUmVBdXRoID0gKCkgPT4ge1xuICAgICAgICB2YXIgY3JlZCA9IGZpcmViYXNlLmF1dGguRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh1c2VyLmVtYWlsLCBwYXNzd29yZClcbiAgICAgICAgdXNlci5yZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsKGNyZWQpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHN1Ym1pdE1haWwoKVxuICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkRXJyb3IoXCJcIilcbiAgICAgICAgICAgICAgICBzZXRUb2dnbGVJZChcIlwiKVxuICAgICAgICAgICAgICAgIHNldFJlQXV0aChmYWxzZSlcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PSBcImF1dGgvd3JvbmctcGFzc3dvcmRcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXRQYXNzd29yZEVycm9yKFwi44OR44K544Ov44O844OJ44GM6YGV44GE44G+44GZXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFzc3dvcmRFcnJvcihlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlTWFpbCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgbWFpbCA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICBzZXROZXdNYWlsKG1haWwpXG4gICAgfVxuXG4gICAgLy9jaGFuZ2UgcGFzc3dvcmQgdG8gbmV3ZXJcbiAgICBjb25zdCBzdWJtaXRQYXNzd29yZEFmdGVyUmVBdXRoID0gKCkgPT4ge1xuICAgICAgICB2YXIgY3JlZCA9IGZpcmViYXNlLmF1dGguRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh1c2VyLmVtYWlsLCBwYXNzd29yZClcbiAgICAgICAgdXNlci5yZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsKGNyZWQpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkRXJyb3IoXCJcIilcbiAgICAgICAgICAgICAgICBzdWJtaXRQYXNzd29yZCgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT0gXCJhdXRoL3dyb25nLXBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFzc3dvcmRFcnJvcihcIuODkeOCueODr+ODvOODieOBjOmBleOBhOOBvuOBmVwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkRXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IHN1Ym1pdFBhc3N3b3JkID0gKCkgPT4ge1xuICAgICAgICB1c2VyLnVwZGF0ZVBhc3N3b3JkKG5ld1Bhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2V0UGFzc3dvcmQoXCJcIilcbiAgICAgICAgICAgIHNldFBhc3N3b3JkRXJyb3IoXCJcIilcbiAgICAgICAgICAgIHNldFRvZ2dsZUlkKFwiXCIpXG4gICAgICAgICAgICBzZXRSZUF1dGgoZmFsc2UpXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PSBcImF1dGgvd2Vhay1wYXNzd29yZFwiKSB7XG4gICAgICAgICAgICAgICAgc2V0TmV3UGFzc3dvcmRFcnJvcihcIjbmloflrZfku6XkuIrjgafoqK3lrprjgZfjgabjgY/jgaDjgZXjgYRcIilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0TmV3UGFzc3dvcmRFcnJvcihlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vc3dpdGNoIHBhc3N3b3JkIGRpc3BsYXkgb3Igbm9uZVxuICAgIGNvbnN0IHRvZ2dsZVBhc3N3b3JkID0gKCkgPT4ge1xuICAgICAgICBzZXRQYXNzd29yZFRvZ2dsZSghcGFzc3dvcmRUb2dnbGUpXG4gICAgfVxuXG4gICAgLy9zd2l0Y2ggbmV3cGFzc3dvcmQgZGlzcGxheSBvciBub25lXG4gICAgY29uc3QgdG9nZ2xlTmV3UGFzc3dvcmQgPSAoKSA9PiB7XG4gICAgICAgIHNldE5ld1Bhc3N3b3JkVG9nZ2xlKCFuZXdQYXNzd29yZFRvZ2dsZSlcbiAgICB9XG5cbiAgICBcbiAgICBjb25zdCBjaGFuZ2VQYXNzd29yZCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgcGFzcyA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICBzZXRQYXNzd29yZChwYXNzKVxuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZU5ld1Bhc3N3b3JkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBwYXNzID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIHNldE5ld1Bhc3N3b3JkKHBhc3MpXG4gICAgfVxuXG4gICAgLy9zZW5kIHZlcmlmaWNhdGlvbiBmb3IgbWFpbFxuICAgIGNvbnN0IHN1Ym1pdFZlcmlmaWNhdGlvbiA9ICgp44CAPT4ge1xuICAgICAgICB2YXIgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L3VzZXIvZGV0YWlsc2AsXG4gICAgICAgIH1cbiAgICAgICAgdXNlci5zZW5kRW1haWxWZXJpZmljYXRpb24oYWN0aW9uQ29kZVNldHRpbmdzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2V0VmVyaWZ5TWVzc2FnZShcIuiqjeiovOODoeODvOODq+OCkumAgeS/oeOBl+OBvuOBl+OBn+OAglwiKVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgc2V0VmVyaWZ5TWVzc2FnZShlcnJvci5jb2RlKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vc2lnbm91dFxuICAgIGNvbnN0IGhhbmRsZVNpZ25PdXQgPSAoKSA9PiB7XG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFJvdXRlci5yZXBsYWNlKFwiL1wiKVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBBbiBlcnJvciBoYXBwZW5lZC5cbiAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL3JlYXV0aGVudGljYXRpb25cblxuICAgIC8vZGFteVxuICAgIGNvbnN0IGhhbmRsZU5vbmUgPSAoKSA9PiB7XG4gICAgfVxuXG4gICAgLy8gdG9nZ2xlIHNldHRpbmcgaWRcbiAgICBjb25zdCBjaGFuZ2VJZCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgbmV3SWQgPSBldmVudC50YXJnZXQuaWRcbiAgICAgICAgaWYgKG5ld0lkID09IHRvZ2dsZUlkKSB7XG4gICAgICAgICAgICBzZXRUb2dnbGVJZChcIlwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VG9nZ2xlSWQobmV3SWQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL2RlbGV0ZSBhY2NvdW50XG4gICAgY29uc3Qgc3VibWl0RGVsZXRlID0gKCkgPT4ge1xuICAgICAgICB2YXIgY3JlZCA9IGZpcmViYXNlLmF1dGguRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh1c2VyLmVtYWlsLCBwYXNzd29yZClcbiAgICAgICAgdXNlci5yZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsKGNyZWQpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkRXJyb3IoXCJcIilcbiAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZG9jKHVzZXIudWlkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB1c2VyLmRlbGV0ZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PSBcImF1dGgvd3JvbmctcGFzc3dvcmRcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXRQYXNzd29yZEVycm9yKFwi44OR44K544Ov44O844OJ44GM6YGV44GE44G+44GZXCIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFzc3dvcmRFcnJvcihlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG5cblxuXG4gICAgY29uc3QgY2hhbmdlRXZlbnRJZCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWRcbiAgICAgICAgc2V0RXZlbnRJZChpZClcbiAgICAgICAgc2V0RXZlbnRNZW5zTmFtZShtZW5zTmFtZVtpZF0pXG4gICAgICAgIHNldEV2ZW50TWVuc01haWwobWVuc0VtYWlsW2lkXSlcbiAgICAgICAgc2V0RXZlbnRXb21lbnNOYW1lKHdvbWVuc05hbWVbaWRdKVxuICAgICAgICBzZXRFdmVudFdvbWVuc01haWwod29tZW5zRW1haWxbaWRdKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMYXlvdXQ+XG4gICAgICAgICAgICA8SGVhZD5cbiAgICAgICAgICAgICAgICA8dGl0bGU+ZGV0YWlsczwvdGl0bGU+XG4gICAgICAgICAgICA8L0hlYWQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNhbXBsZVwiPlxuICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC02IG10LTYgc206bWF4LXctbGcgc206bXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKm5hbWUgYmxvY2sqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgYm9yZGVyLWItMiBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkXCI+5ZCN5YmNPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57dXNlci5kaXNwbGF5TmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGN1cnNvci1wb2ludGVyIHRleHQteHMgdGV4dC1jZW50ZXJcIiBpZD1cIm5hbWVcIiBvbkNsaWNrPXtjaGFuZ2VJZH0+57eo6ZuGPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbj17MzAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17dG9nZ2xlSWQgPT09IFwibmFtZVwiID8gJ2F1dG8nIDogMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c2lmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi5aeTXCIgb25DaGFuZ2U9e2NoYW5nZUxhc3R9IGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiB3LWZ1bGwgb3V0bGluZS1ub25lIG1heC13LXNtXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIuWQjVwiIG9uQ2hhbmdlPXtjaGFuZ2VGaXJzdH0gY2xhc3NOYW1lPVwiYm9yZGVyLXNvbGlkIGJvcmRlci0yIHJvdW5kZWQgcC0yIG10LTEgdy1mdWxsIG91dGxpbmUtbm9uZSBtYXgtdy1zbVwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQtY2VudGVyXCI+e25hbWVFcnJvcn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgbXQtMSBiZy1ibHVlLTIwMOOAgG91dGxpbmUtbm9uZVwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtzdWJtaXROYW1lfSB2YWx1ZT1cIuWkieabtFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZUhlaWdodD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKm1haWwgYmxvY2sqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYi0yIHB5LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGZvbnQtc2VtaWJvbGRcIj7jg6Hjg7zjg6vjgqLjg4njg6zjgrk8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnt1c2VyLmVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgY3Vyc29yLXBvaW50ZXIgdGV4dC14cyB0ZXh0LWNlbnRlclwiIGlkPVwibWFpbFwiIG9uQ2xpY2s9e2NoYW5nZUlkfT7nt6jpm4Y8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uPXszMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXt0b2dnbGVJZCA9PT0gXCJtYWlsXCIgPyAnYXV0bycgOiAwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImJvcmRlci1zb2xpZCBib3JkZXItMiByb3VuZGVkIHAtMiB3LWZ1bGwgb3V0bGluZS1ub25lIG1heC13LXNtXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIuaWsOOBl+OBhOODoeODvOODq+OCouODieODrOOCuVwiIG9uQ2hhbmdlPXtjaGFuZ2VNYWlsfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgdGV4dC1jZW50ZXJcIj57bWFpbEVycm9yfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgbXQtMSBiZy1ibHVlLTIwMOOAgG91dGxpbmUtbm9uZVwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtzdWJtaXRNYWlsfSB2YWx1ZT1cIuWkieabtFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVIZWlnaHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uPXszMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtyZUF1dGggPyAnYXV0bycgOiAwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+5pmC6ZaT44GM57WM44Gj44Gm44GE44KL44Gf44KB44OR44K544Ov44O844OJ44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgdy1mdWxsIGZsZXggbWF4LXctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy00LzUgb3V0bGluZS1ub25lXCIgcGxhY2Vob2xkZXI9XCLnj77lnKjjga7jg5Hjgrnjg6/jg7zjg4lcIiB0eXBlPXtwYXNzd29yZFRvZ2dsZSA/IFwicGFzc3dvcmRcIiA6IFwidGV4dFwifSBvbkNoYW5nZT17Y2hhbmdlUGFzc3dvcmR9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy0xLzUgb3V0bGluZS1ub25lIGJnLXdoaXRlIG9wYWNpdHktNTBcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlUGFzc3dvcmR9IHZhbHVlPXtwYXNzd29yZFRvZ2dsZSA/IFwi6KGo56S6XCIgOiBcIumdnuihqOekulwifS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LWNlbnRlclwiPntwYXNzd29yZEVycm9yfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgbXQtMSBiZy1ibHVlLTIwMOOAgG91dGxpbmUtbm9uZVwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtzdWJtaXRNYWlsQWZ0ZXJSZUF1dGh9IHZhbHVlPVwi6KqN6Ki8XCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZUhlaWdodD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKnBhc3N3b3JkIGJsb2NrKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLWItMiBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkXCI+44OR44K544Ov44O844OJPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7il4/il4/il4/il4/il4/il488L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGN1cnNvci1wb2ludGVyIHRleHQteHMgdGV4dC1jZW50ZXJcIiBpZD1cInBhc3N3b3JkXCIgb25DbGljaz17Y2hhbmdlSWR9Pue3qOmbhjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb249ezMwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3RvZ2dsZUlkID09PSBcInBhc3N3b3JkXCIgPyAnYXV0bycgOiAwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgdy1mdWxsIGZsZXggbWF4LXctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00LzUgb3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLnj77lnKjjga7jg5Hjgrnjg6/jg7zjg4lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtwYXNzd29yZFRvZ2dsZSA/IFwicGFzc3dvcmRcIiA6IFwidGV4dFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y2hhbmdlUGFzc3dvcmR9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy0xLzUgb3V0bGluZS1ub25lIGJnLXdoaXRlIG9wYWNpdHktNTBcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlUGFzc3dvcmR9IHZhbHVlPXtwYXNzd29yZFRvZ2dsZSA/IFwi6KGo56S6XCIgOiBcIumdnuihqOekulwifS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LWNlbnRlclwiPntwYXNzd29yZEVycm9yfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXNvbGlkIGJvcmRlci0yIHJvdW5kZWQgcC0yIHctZnVsbCBmbGV4IG10LTEgbWF4LXctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00LzUgb3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLmlrDjgZfjgYTjg5Hjgrnjg6/jg7zjg4lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtuZXdQYXNzd29yZFRvZ2dsZSA/IFwicGFzc3dvcmRcIiA6IFwidGV4dFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y2hhbmdlTmV3UGFzc3dvcmR9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy0xLzUgb3V0bGluZS1ub25lIGJnLXdoaXRlIG9wYWNpdHktNTBcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlTmV3UGFzc3dvcmR9IHZhbHVlPXtuZXdQYXNzd29yZFRvZ2dsZSA/IFwi6KGo56S6XCIgOiBcIumdnuihqOekulwifS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LWNlbnRlclwiPntuZXdQYXNzd29yZEVycm9yfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgbXQtMSBiZy1ibHVlLTIwMOOAgG91dGxpbmUtbm9uZVwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtzdWJtaXRQYXNzd29yZEFmdGVyUmVBdXRofSB2YWx1ZT1cIuWkieabtFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVIZWlnaHQ+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7LyogdmVyaWZ5ZWQgYmxvY2sgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLWItMiBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGZvbnQtc2VtaWJvbGRcIj7jg6Hjg7zjg6voqo3oqLw8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57dXNlci5lbWFpbFZlcmlmaWVkID8gXCLoqo3oqLzmuIjjgb9cIiA6IFwi5pyq6KqN6Ki8XCJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgY3Vyc29yLXBvaW50ZXIgdGV4dC14cyB0ZXh0LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3VzZXIuZW1haWxWZXJpZmllZCA/IGhhbmRsZU5vbmUgOiBzdWJtaXRWZXJpZmljYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLmVtYWlsVmVyaWZpZWQgPyBcIlwiIDogdmVyaWZ5TWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgY3Vyc29yLXBvaW50ZXIgdGV4dC1jZW50ZXJcIiBvbkNsaWNrPXtoYW5kbGVTaWduT3V0fT7jg63jgrDjgqLjgqbjg4g8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGlkPVwiZGVsZXRlXCIgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGN1cnNvci1wb2ludGVyIHRleHQtY2VudGVyXCIgb25DbGljaz17Y2hhbmdlSWR9PuOCouOCq+OCpuODs+ODiOOCkuWJiumZpOOBmeOCizwvcD5cbiAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uPXszMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3RvZ2dsZUlkID09PSBcImRlbGV0ZVwiID8gJ2F1dG8nIDogMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuePvuWcqOOBruODkeOCueODr+ODvOODiVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9e3Bhc3N3b3JkVG9nZ2xlID8gXCJwYXNzd29yZFwiIDogXCJ0ZXh0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2VQYXNzd29yZH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlUGFzc3dvcmR9IHZhbHVlPVwi6KGo56S6XCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e3N0eWxlcy5hbGVydH0+e3Bhc3N3b3JkRXJyb3J9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtzdWJtaXREZWxldGV9IHZhbHVlPVwi5YmK6ZmkXCIvPlxuICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVIZWlnaHQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8QXBwbGljYXRpb25cbiAgICAgICAgICAgICAgICBldmVudHM9e2FsbEV2ZW50c0RhdGF9XG4gICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7dXNlckRhdGEuYWRtaW4gJiZcbiAgICAgICAgICAgICAgICA8QWRtaW5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzPXthbGxFdmVudHNEYXRhfVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgLnNhbXBsZSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogcm90YXRpb24gMnMgZWFzZSAwcyAxIGFsdGVybmF0ZSBub25lIHJ1bm5pbmc7ICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzIHJvdGF0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgMCUge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTsgMCU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OyAxMDAlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9MYXlvdXQ+XG4gICAgKVxufSJdfQ== */\\n/*@ sourceURL=/Users/tkak/sample/villageon/villageon/pages/user/details.js */\")));\n}","map":{"version":3,"sources":["/Users/tkak/sample/villageon/villageon/pages/user/details.js"],"names":["Layout","phoneNumber","url","Application","Admin","Head","styles","useState","useEffect","AnimateHeight","Router","Link","getSortedPostsData","initFirebase","firebase","require","db","firestore","getOptions","source","getStaticProps","allEventsData","collection","orderBy","get","then","querySnapshot","datas","docs","forEach","doc","push","data","props","details","user","setUser","verifyMessage","setVerifyMessage","toggleId","setToggleId","nameError","setNameError","newFirst","setNewFirst","newLast","setNewLast","newMail","setNewMail","mailError","setMailError","reAuth","setReAuth","password","setPassword","newPassword","setNewPassword","passwordError","setPasswordError","newPasswordError","setNewPasswordError","passwordToggle","setPasswordToggle","newPasswordToggle","setNewPasswordToggle","admin","setAdmin","mount","setMount","mensName","setMensName","womensName","setWomensName","mensEmail","setMensEmail","womensEmail","setWomensEmail","eventId","setEventId","eventMensName","setEventMensName","eventMensMail","setEventMensMail","eventWomensName","setEventWomensName","eventWomensMail","setEventWomensMail","userData","setUserData","auth","onAuthStateChanged","uid","exists","changeFirst","event","target","value","changeLast","submitName","updateProfile","displayName","catch","error","message","submitMail","updateEmail","code","submitMailAfterReAuth","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","changeMail","mail","submitPasswordAfterReAuth","submitPassword","updatePassword","togglePassword","toggleNewPassword","changePassword","pass","changeNewPassword","submitVerification","actionCodeSettings","sendEmailVerification","handleSignOut","signOut","replace","handleNone","changeId","newId","id","submitDelete","delete","changeEventId","emailVerified","alert"],"mappings":"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","sourcesContent":["import Layout, { phoneNumber, url }from '../../components/layout'\nimport Application from '../../components/user/application'\nimport Admin from '../../components/user/admin'\nimport Head from 'next/head'\nimport styles from '../../styles/user.module.scss'\nimport { useState, useEffect } from 'react'\nimport AnimateHeight from 'react-animate-height'\nimport Router from 'next/router'\nimport Link from 'next/link'\nimport { getSortedPostsData } from '../../lib/posts'\n\nimport initFirebase from '../../components/initFirebase'\nimport firebase from \"firebase/app\"\nimport 'firebase/auth'\nrequire('firebase/auth')\nrequire(\"firebase/firestore\")\n\ninitFirebase()\nvar db = firebase.firestore()\nvar getOptions = {\n    source: 'cache'\n}\n\n\n\nexport async function getStaticProps() {\n    const allEventsData = await db.collection('events').orderBy(\"date\").get().then(function(querySnapshot) {\n        var datas = []\n        querySnapshot.docs.forEach(doc => {\n          datas.push(doc.data())\n        })\n        return datas\n    })\n    return {\n      props: {\n        allEventsData\n      }\n    }\n  }\n\n\n\n\n  export default function details({ allEventsData }) {\n    const [user, setUser] = useState(\"\")\n    const [verifyMessage, setVerifyMessage] = useState(\"認証メールを送る\")\n    const [toggleId, setToggleId] = useState(\"\")\n    //name\n    const [nameError, setNameError] = useState(\"\")\n    const [newFirst, setNewFirst] = useState(\"\")\n    const [newLast, setNewLast] = useState(\"\")\n    //mail\n    const [newMail, setNewMail] = useState(\"\")\n    const [mailError, setMailError] = useState(\"\")\n    const [reAuth, setReAuth] = useState(false)\n    //password\n    const [password, setPassword] = useState(\"\")\n    const [newPassword, setNewPassword] = useState(\"\")\n    const [passwordError, setPasswordError] = useState(\"\")\n    const [newPasswordError, setNewPasswordError] = useState(\"\")\n    const [passwordToggle, setPasswordToggle] = useState(true)\n    const [newPasswordToggle, setNewPasswordToggle] = useState(true)\n    //database\n    const [admin, setAdmin] = useState(false) \n    //useEffect\n    const [mount, setMount] = useState(true)\n    //admin\n    const [mensName, setMensName] = useState({})\n    const [womensName, setWomensName] = useState({})\n    const [mensEmail, setMensEmail] = useState({})\n    const [womensEmail, setWomensEmail] = useState({})\n    const [eventId, setEventId] = useState(\"\")\n    const [eventMensName, setEventMensName] = useState([])\n    const [eventMensMail, setEventMensMail] = useState([])\n    const [eventWomensName, setEventWomensName] = useState([])\n    const [eventWomensMail, setEventWomensMail] = useState([])\n    const [userData, setUserData] = useState(\"\")\n\n    \n\n    \n    useEffect(() => {\n        if (mount) {\n            firebase.auth().onAuthStateChanged(function(user) {\n                if (user) {\n                    // User is signed in.\n                    setUser(user)\n                    db.collection('users').doc(user.uid).get().then(function(doc) {\n                        if (doc.exists) {\n                            setUserData(doc.data())\n                        }\n                        setMount(false)\n                    })\n                } else {\n                    if (process.browser) {\n                        Router.push(\"/\")\n                    }\n                    // No user is signed in.\n                }\n            })\n        }        \n    })\n\n    \n\n    const changeFirst = event => {\n        setNewFirst(event.target.value)\n    }\n\n    const changeLast = event => {\n        setNewLast(event.target.value)\n    }\n\n    //change displayname to newer\n    const submitName = event => {\n        if (newLast && newFirst) {\n            user.updateProfile({\n                displayName: `${newLast} ${newFirst}`\n            }).then(function() {\n                setToggleId(\"\")\n                setNewFirst(\"\")\n                setNewLast(\"\")\n            }) .catch(function(error) {\n                setNameError(error.message)\n            })\n        } else {\n            setNameError(\"入力してください\")\n        }\n    }\n\n    //change email to newer\n    const submitMail = () => {\n        user.updateEmail(newMail).then(\n            function() {\n                setToggleId(\"\")\n                setNewMail(\"\")\n                setMailError(\"\")\n            }).catch(function(error) {\n                if (error.code == \"auth/invalid-email\") {\n                    setMailError(\"メールアドレスの形式が正しくないです\")\n                } else if (error.code == \"auth/email-already-in-use\") {\n                    setMailError(\"既に使われています\")\n                } else if (error.code == \"auth/requires-recent-login\") {\n                    setReAuth(true)\n                }\n            }\n        )\n    }\n\n    const submitMailAfterReAuth = () => {\n        var cred = firebase.auth.EmailAuthProvider.credential(user.email, password)\n        user.reauthenticateWithCredential(cred).then(\n            function(){\n                submitMail()\n                setPasswordError(\"\")\n                setToggleId(\"\")\n                setReAuth(false)\n            }).catch(function(error){\n                if (error.code == \"auth/wrong-password\") {\n                    setPasswordError(\"パスワードが違います\")\n                } else {\n                    setPasswordError(error.message)\n                }\n            })\n    }\n\n    const changeMail = (event) => {\n        var mail = event.target.value\n        setNewMail(mail)\n    }\n\n    //change password to newer\n    const submitPasswordAfterReAuth = () => {\n        var cred = firebase.auth.EmailAuthProvider.credential(user.email, password)\n        user.reauthenticateWithCredential(cred).then(\n            function(){\n                setPasswordError(\"\")\n                submitPassword()\n                \n            }).catch(function(error){\n                if (error.code == \"auth/wrong-password\") {\n                    setPasswordError(\"パスワードが違います\")\n                } else {\n                    setPasswordError(error.message)\n                }\n            })\n    }\n\n    const submitPassword = () => {\n        user.updatePassword(newPassword).then(function() {\n            setPassword(\"\")\n            setPasswordError(\"\")\n            setToggleId(\"\")\n            setReAuth(false)\n        }).catch(function(error) {\n            if (error.code == \"auth/weak-password\") {\n                setNewPasswordError(\"6文字以上で設定してください\")\n            } else {\n                setNewPasswordError(error.message)\n            }\n        })\n    }\n\n    //switch password display or none\n    const togglePassword = () => {\n        setPasswordToggle(!passwordToggle)\n    }\n\n    //switch newpassword display or none\n    const toggleNewPassword = () => {\n        setNewPasswordToggle(!newPasswordToggle)\n    }\n\n    \n    const changePassword = (event) => {\n        var pass = event.target.value\n        setPassword(pass)\n    }\n\n    const changeNewPassword = (event) => {\n        var pass = event.target.value\n        setNewPassword(pass)\n    }\n\n    //send verification for mail\n    const submitVerification = ()　=> {\n        var actionCodeSettings = {\n            url: `${url}/user/details`,\n        }\n        user.sendEmailVerification(actionCodeSettings).then(function() {\n            setVerifyMessage(\"認証メールを送信しました。\")\n        }).catch(function(error) {\n            setVerifyMessage(error.code)\n        })\n    }\n\n    //signout\n    const handleSignOut = () => {\n        firebase.auth().signOut().then(function() {\n            Router.replace(\"/\")\n          }).catch(function(error) {\n            // An error happened.\n          });\n    }\n\n    //reauthentication\n\n    //damy\n    const handleNone = () => {\n    }\n\n    // toggle setting id\n    const changeId = (event) => {\n        var newId = event.target.id\n        if (newId == toggleId) {\n            setToggleId(\"\")\n        } else {\n            setToggleId(newId)\n        }\n    }\n\n    //delete account\n    const submitDelete = () => {\n        var cred = firebase.auth.EmailAuthProvider.credential(user.email, password)\n        user.reauthenticateWithCredential(cred).then(\n            function(){\n                setPasswordError(\"\")\n                db.collection(\"users\").doc(user.uid).delete().then(function() {\n                    user.delete()\n                })\n            }).catch(function(error){\n                if (error.code == \"auth/wrong-password\") {\n                    setPasswordError(\"パスワードが違います\")\n                } else {\n                    setPasswordError(error.message)\n                }\n            })\n    }\n\n\n\n\n    const changeEventId = (event) => {\n        var id = event.target.id\n        setEventId(id)\n        setEventMensName(mensName[id])\n        setEventMensMail(mensEmail[id])\n        setEventWomensName(womensName[id])\n        setEventWomensMail(womensEmail[id])\n    }\n\n    return (\n        <Layout>\n            <Head>\n                <title>details</title>\n            </Head>\n            <div className=\"sample\">\n            <article className=\"bg-white p-6 mt-6 sm:max-w-lg sm:mx-auto\">\n                <div className=\"w-full\">\n                    {/*name block*/}\n                    <div className=\" border-b-2 py-4\">\n                        <p className=\"text-center font-semibold\">名前</p>\n                        <p className=\"text-center\">{user.displayName}</p>\n                        <p className=\"text-blue-600 cursor-pointer text-xs text-center\" id=\"name\" onClick={changeId}>編集</p>\n                        <AnimateHeight\n                            duration={300}\n                            height={toggleId === \"name\" ? 'auto' : 0}>\n                            <div className=\"flex flex-col jusify-center items-center\">\n                                <input type=\"text\" placeholder=\"姓\" onChange={changeLast} className=\"border-solid border-2 rounded p-2 w-full outline-none max-w-sm\"/>\n                                <input type=\"text\" placeholder=\"名\" onChange={changeFirst} className=\"border-solid border-2 rounded p-2 mt-1 w-full outline-none max-w-sm\"/>\n                                <p className=\"text-red-600 text-center\">{nameError}</p>\n                                <input className=\"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\" type=\"button\" onClick={submitName} value=\"変更\"/>\n                            </div>\n                        </AnimateHeight>\n                    </div>\n                    {/*mail block*/}\n                    <div className=\"border-b-2 py-4\">\n                        <p className=\"text-center font-semibold\">メールアドレス</p>\n                        <p className=\"text-center\">{user.email}</p>\n                        <p className=\"text-blue-600 cursor-pointer text-xs text-center\" id=\"mail\" onClick={changeId}>編集</p>\n                        <AnimateHeight\n                            duration={300}\n                            height={toggleId === \"mail\" ? 'auto' : 0}>\n                                <div className=\"flex flex-col justify-center items-center\">\n                                    <input className=\"border-solid border-2 rounded p-2 w-full outline-none max-w-sm\" type=\"text\" placeholder=\"新しいメールアドレス\" onChange={changeMail}/>\n                                    <p className=\"text-red-600 text-center\">{mailError}</p>\n                                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\" type=\"button\" onClick={submitMail} value=\"変更\"/>\n                                </div>\n                        </AnimateHeight>\n                        <AnimateHeight\n                            duration={300}\n                            height={reAuth ? 'auto' : 0}>\n                                <div className=\"flex flex-col justify-center items-center\">\n                                    <p>時間が経っているためパスワードを入力してください</p>\n                                    <div className=\"border-solid border-2 rounded p-2 w-full flex max-w-sm\">\n                                        <input className=\"w-4/5 outline-none\" placeholder=\"現在のパスワード\" type={passwordToggle ? \"password\" : \"text\"} onChange={changePassword}/>\n                                        <input className=\"w-1/5 outline-none bg-white opacity-50\" type=\"button\" onClick={togglePassword} value={passwordToggle ? \"表示\" : \"非表示\"}/>\n                                    </div>\n                                    <p className=\"text-red-600 text-center\">{passwordError}</p>\n                                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\" type=\"button\" onClick={submitMailAfterReAuth} value=\"認証\"/>\n                                </div>\n                        </AnimateHeight>\n                    </div>\n                    {/*password block*/}\n                    <div className=\"border-b-2 py-4\">\n                        <p className=\"text-center font-semibold\">パスワード</p>\n                        <p className=\"text-center\">●●●●●●</p>\n                        <p className=\"text-blue-600 cursor-pointer text-xs text-center\" id=\"password\" onClick={changeId}>編集</p>\n                        <AnimateHeight\n                            duration={300}\n                            height={toggleId === \"password\" ? 'auto' : 0}>\n                                <div className=\"flex flex-col justify-center items-center\">\n                                    <div className=\"border-solid border-2 rounded p-2 w-full flex max-w-sm\">\n                                        <input\n                                            className=\"w-4/5 outline-none\"\n                                            placeholder=\"現在のパスワード\"\n                                            type={passwordToggle ? \"password\" : \"text\"}\n                                            onChange={changePassword}/>\n                                        <input className=\"w-1/5 outline-none bg-white opacity-50\" type=\"button\" onClick={togglePassword} value={passwordToggle ? \"表示\" : \"非表示\"}/>\n                                    </div>\n                                    <p className=\"text-red-600 text-center\">{passwordError}</p>\n                                    <div className=\"border-solid border-2 rounded p-2 w-full flex mt-1 max-w-sm\">\n                                        <input\n                                            className=\"w-4/5 outline-none\"\n                                            placeholder=\"新しいパスワード\"\n                                            type={newPasswordToggle ? \"password\" : \"text\"}\n                                            onChange={changeNewPassword}/>\n                                        <input className=\"w-1/5 outline-none bg-white opacity-50\" type=\"button\" onClick={toggleNewPassword} value={newPasswordToggle ? \"表示\" : \"非表示\"}/>\n                                    </div>\n                                    <p className=\"text-red-600 text-center\">{newPasswordError}</p>\n                                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-blue-200　outline-none\" type=\"button\" onClick={submitPasswordAfterReAuth} value=\"変更\"/>\n                                </div>\n                        </AnimateHeight>\n                    </div>\n                    {/* verifyed block */}\n                    <div className=\"border-b-2 py-4\">\n                        <div className=\"\">\n                            <p className=\"text-center font-semibold\">メール認証</p>\n                            <p className=\"text-center\">{user.emailVerified ? \"認証済み\" : \"未認証\"}</p>\n                            <p\n                                className=\"text-blue-600 cursor-pointer text-xs text-center\"\n                                onClick={user.emailVerified ? handleNone : submitVerification}\n                                >\n                                    {user.emailVerified ? \"\" : verifyMessage}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"py-4\">\n                    <p className=\"text-blue-600 cursor-pointer text-center\" onClick={handleSignOut}>ログアウト</p>\n                    <p id=\"delete\" className=\"text-red-600 cursor-pointer text-center\" onClick={changeId}>アカウントを削除する</p>\n                    <AnimateHeight\n                        duration={300}\n                        height={toggleId === \"delete\" ? 'auto' : 0}>\n                        <div>\n                            <input\n                                placeholder=\"現在のパスワード\"\n                                type={passwordToggle ? \"password\" : \"text\"}\n                                onChange={changePassword}/>\n                            <input type=\"button\" onClick={togglePassword} value=\"表示\"/>\n                        </div>\n                        <p className={styles.alert}>{passwordError}</p>\n                        <input type=\"button\" onClick={submitDelete} value=\"削除\"/>\n                    </AnimateHeight>\n                </div>\n            </article>\n            <Application\n                events={allEventsData}\n                user={user}\n            />\n            {userData.admin &&\n                <Admin\n                    events={allEventsData}\n                    user={user}\n                />\n            }\n            <style jsx>{`\n                .sample {\n                    animation: rotation 2s ease 0s 1 alternate none running;                  \n                } \n                @keyframes rotation {\n                    0% {\n                        opacity; 0%;\n                    }\n                    100% {\n                        opacity; 100%;\n                    }\n                }\n            `}\n            </style>\n            </div>\n        </Layout>\n    )\n}"]},"metadata":{},"sourceType":"module"}