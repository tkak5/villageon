{"ast":null,"code":"var _jsxFileName = \"/Users/tkak/sample/villageon/villageon/components/user/application.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport initFirebase from '../../components/initFirebase';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\n\nrequire('firebase/auth');\n\nrequire(\"firebase/firestore\");\n\ninitFirebase();\nvar db = firebase.firestore();\nexport default function Application(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      cancelId = _useState[0],\n      setCancelId = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      cancelErrorId = _useState2[0],\n      setCancelErrorId = _useState2[1];\n\n  var displayCancel = function displayCancel() {\n    var id = event.target.id;\n    setCancelId(id);\n  };\n\n  var hideCancel = function hideCancel() {\n    setCancelId(\"\");\n  };\n\n  var judgeCancel = function judgeCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice) {\n    var today = new Date();\n    /*\n    var year = today.getFullYear()\n    var month = today.getMonth()+1\n    var day = today.getDate()\n    var array = [2,4,6,9,11]\n    var dayLeft\n    */\n\n    var eventYear = Number(eventId.substr(0, 4));\n    var eventMonth = Number(eventId.substr(4, 2));\n    var eventDay = Number(eventId.substr(6, 2));\n    var date2 = new Date(eventYear, eventMonth, eventDay);\n    var termDay = (date2 - today) / 86400000;\n\n    if (termDay <= 3) {\n      setCancelErrorId(eventId);\n    } else {\n      submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice);\n    }\n    /*\n    if (month == 2) {\n        dayLeft = 29 - day\n    } else if (array.includes(month)) {\n        dayLeft = 30 - day\n    } else {\n        dayLeft = 31 - day\n    }\n    \n    if (year == eventYear && month == eventMonth && day+3 >= eventDay) {\n        setCancelErrorId(eventId)\n    } else if (year == eventYear && month+1 == eventMonth && dayLeft + eventDay <= 3) {\n        setCancelErrorId(eventId)\n    } else {\n        submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice)\n    }\n    */\n\n  };\n\n  var submitCancel = function submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice) {\n    if (eventGender == \"mens\") {\n      db.collection(\"events\").doc(cancelId).update({\n        mens: firebase.firestore.FieldValue.arrayRemove({\n          id: props.user.uid,\n          mail: props.user.email,\n          name: props.user.displayName\n        })\n      }).then(function () {})[\"catch\"](function (error) {});\n    } else {\n      db.collection(\"events\").doc(cancelId).update({\n        womens: firebase.firestore.FieldValue.arrayRemove({\n          id: props.user.uid,\n          mail: props.user.email,\n          name: props.user.displayName\n        })\n      }).then(function () {})[\"catch\"](function (error) {});\n    }\n  };\n\n  return __jsx(\"article\", {\n    className: \"jsx-3025179695\" + \" \" + \"bg-white p-6 mt-6 mb-6 sm:max-w-lg sm:mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3025179695\" + \" \" + \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    className: \"jsx-3025179695\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"\\u53C2\\u52A0\\u4E88\\u5B9A\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u30EA\\u30B9\\u30C8\"), __jsx(\"div\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    className: \"jsx-3025179695\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, props.events.map(function (event) {\n    return __jsx(\"li\", {\n      className: \"jsx-3025179695\" + \" \" + \"list-none border-t-2 py-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, event.mens.map(function (man) {\n      return __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, man.id == props.user.uid ? __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 45\n        }\n      }, __jsx(Link, {\n        href: \"/posts/[id]\",\n        as: \"/posts/\".concat(event.id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 49\n        }\n      }, __jsx(\"a\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 53\n        }\n      }, __jsx(\"h3\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-blue-600 text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 56\n        }\n      }, event.title))), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 49\n        }\n      }, event.date), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 49\n        }\n      }, event.place), __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 49\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 53\n        }\n      }, \"\\u7537\\u6027 1\\u4EBA\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 53\n        }\n      }, event.mensPrice, \"\\u5186\")), cancelId !== event.id ? __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"flex flex-col justify-center items-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 53\n        }\n      }, __jsx(\"p\", {\n        id: event.id,\n        onClick: displayCancel,\n        className: \"jsx-3025179695\" + \" \" + \"text-red-600 cursor-pointer text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 57\n        }\n      }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\")) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 53\n        }\n      }, cancelErrorId !== event.id ? __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 61\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 65\n        }\n      }, \"\\u4E0A\\u8A18\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u306E\\u4E88\\u7D04\\u3092\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3057\\u307E\\u3059\\u304C\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\"), __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"flex justify-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 65\n        }\n      }, __jsx(\"input\", {\n        type: \"button\",\n        value: \"\\u306F\\u3044\",\n        onClick: function onClick(e) {\n          return judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e);\n        },\n        className: \"jsx-3025179695\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 69\n        }\n      }), __jsx(\"input\", {\n        type: \"button\",\n        value: \"\\u3044\\u3044\\u3048\",\n        onClick: hideCancel,\n        className: \"jsx-3025179695\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 69\n        }\n      }))) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 61\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 65\n        }\n      }, \"web\\u4E0A\\u3067\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u53EF\\u80FD\\u306A\\u65E5\\u306B\\u3061\\u3092\\u8D85\\u3048\\u3066\\u3044\\u307E\\u3059\\u3002\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 65\n        }\n      }, \"\\u304A\\u624B\\u6570\\u3067\\u3059\\u304C\\u4EE5\\u4E0B\\u306E\\u96FB\\u8A71\\u756A\\u53F7\\u307E\\u3067\\u3054\\u9023\\u7D61\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 65\n        }\n      }, phoneNumber)))) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 41\n        }\n      }));\n    }), event.womens.map(function (woman) {\n      return __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 37\n        }\n      }, woman.id == props.user.uid ? __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 45\n        }\n      }, __jsx(Link, {\n        href: \"/posts/[id]\",\n        as: \"/posts/\".concat(event.id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 49\n        }\n      }, __jsx(\"a\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 53\n        }\n      }, __jsx(\"h3\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-blue-600 text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 56\n        }\n      }, event.title))), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 49\n        }\n      }, event.date), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 49\n        }\n      }, event.place), __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 49\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 53\n        }\n      }, \"\\u5973\\u6027 1\\u4EBA\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 53\n        }\n      }, event.womensPrice, \"\\u5186\")), cancelId !== event.id ? __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"flex flex-col justify-center items-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 53\n        }\n      }, __jsx(\"p\", {\n        id: event.id,\n        onClick: displayCancel,\n        className: \"jsx-3025179695\" + \" \" + \"text-red-600 cursor-pointer text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 57\n        }\n      }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\")) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 53\n        }\n      }, cancelErrorId !== event.id ? __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 61\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 65\n        }\n      }, \"\\u4E0A\\u8A18\\u306E\\u30A4\\u30D9\\u30F3\\u30C8\\u306E\\u4E88\\u7D04\\u3092\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3057\\u307E\\u3059\\u304C\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\"), __jsx(\"div\", {\n        className: \"jsx-3025179695\" + \" \" + \"flex justify-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 65\n        }\n      }, __jsx(\"input\", {\n        type: \"button\",\n        value: \"\\u306F\\u3044\",\n        onClick: function onClick(e) {\n          return judgeCancel(event.id, event.date, event.place, event.title, \"womens\", event.price, e);\n        },\n        className: \"jsx-3025179695\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 69\n        }\n      }), __jsx(\"input\", {\n        type: \"button\",\n        value: \"\\u3044\\u3044\\u3048\",\n        onClick: hideCancel,\n        className: \"jsx-3025179695\" + \" \" + \"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 69\n        }\n      }))) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 61\n        }\n      }, __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 65\n        }\n      }, \"web\\u4E0A\\u3067\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u53EF\\u80FD\\u306A\\u65E5\\u306B\\u3061\\u3092\\u8D85\\u3048\\u3066\\u3044\\u307E\\u3059\\u3002\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 65\n        }\n      }, \"\\u304A\\u624B\\u6570\\u3067\\u3059\\u304C\\u4EE5\\u4E0B\\u306E\\u96FB\\u8A71\\u756A\\u53F7\\u307E\\u3067\\u3054\\u9023\\u7D61\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"p\", {\n        className: \"jsx-3025179695\" + \" \" + \"text-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 65\n        }\n      }, phoneNumber)))) : __jsx(\"div\", {\n        className: \"jsx-3025179695\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 41\n        }\n      }));\n    }));\n  })))), __jsx(_JSXStyle, {\n    id: \"3025179695\",\n    __self: this\n  }, \".sample.jsx-3025179695{background-color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90a2FrL3NhbXBsZS92aWxsYWdlb24vdmlsbGFnZW9uL2NvbXBvbmVudHMvdXNlci9hcHBsaWNhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrTXdCLEFBRzBDLHFCQUN6QiIsImZpbGUiOiIvVXNlcnMvdGthay9zYW1wbGUvdmlsbGFnZW9uL3ZpbGxhZ2Vvbi9jb21wb25lbnRzL3VzZXIvYXBwbGljYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBpbml0RmlyZWJhc2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9pbml0RmlyZWJhc2UnXG5pbXBvcnQgZmlyZWJhc2UgZnJvbSBcImZpcmViYXNlL2FwcFwiXG5pbXBvcnQgJ2ZpcmViYXNlL2F1dGgnXG5yZXF1aXJlKCdmaXJlYmFzZS9hdXRoJylcbnJlcXVpcmUoXCJmaXJlYmFzZS9maXJlc3RvcmVcIilcblxuaW5pdEZpcmViYXNlKClcbnZhciBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwbGljYXRpb24gKHByb3BzKSB7XG4gICAgY29uc3QgW2NhbmNlbElkLCBzZXRDYW5jZWxJZF0gPSB1c2VTdGF0ZShcIlwiKVxuICAgIGNvbnN0IFtjYW5jZWxFcnJvcklkLCBzZXRDYW5jZWxFcnJvcklkXSA9IHVzZVN0YXRlKFwiXCIpXG5cbiAgICBjb25zdCBkaXNwbGF5Q2FuY2VsID0gKCkgPT4ge1xuICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWRcbiAgICAgICAgc2V0Q2FuY2VsSWQoaWQpXG4gICAgfVxuICAgIGNvbnN0IGhpZGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgIHNldENhbmNlbElkKFwiXCIpXG4gICAgfVxuICAgIGNvbnN0IGp1ZGdlQ2FuY2VsID0gKGV2ZW50SWQsIGV2ZW50RGF0ZSwgZXZlbnRQbGFjZSwgZXZlbnRUaXRsZSwgZXZlbnRHZW5kZXIsIGV2ZW50UHJpY2UpID0+IHtcbiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgICAvKlxuICAgICAgICB2YXIgeWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKClcbiAgICAgICAgdmFyIG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKSsxXG4gICAgICAgIHZhciBkYXkgPSB0b2RheS5nZXREYXRlKClcbiAgICAgICAgdmFyIGFycmF5ID0gWzIsNCw2LDksMTFdXG4gICAgICAgIHZhciBkYXlMZWZ0XG4gICAgICAgICovXG4gICAgICAgIHZhciBldmVudFllYXIgPSBOdW1iZXIoZXZlbnRJZC5zdWJzdHIoMCw0KSlcbiAgICAgICAgdmFyIGV2ZW50TW9udGggPSBOdW1iZXIoZXZlbnRJZC5zdWJzdHIoNCwyKSlcbiAgICAgICAgdmFyIGV2ZW50RGF5ID0gTnVtYmVyKGV2ZW50SWQuc3Vic3RyKDYsMikpXG4gICAgICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKGV2ZW50WWVhciwgZXZlbnRNb250aCwgZXZlbnREYXkpXG4gICAgICAgIHZhciB0ZXJtRGF5ID0gKGRhdGUyIC0gdG9kYXkpIC8gODY0MDAwMDA7XG4gICAgICAgIGlmICh0ZXJtRGF5IDw9IDMpIHtcbiAgICAgICAgICAgIHNldENhbmNlbEVycm9ySWQoZXZlbnRJZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Ym1pdENhbmNlbChldmVudElkLCBldmVudERhdGUsIGV2ZW50UGxhY2UsIGV2ZW50VGl0bGUsIGV2ZW50R2VuZGVyLCBldmVudFByaWNlKVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgIGlmIChtb250aCA9PSAyKSB7XG4gICAgICAgICAgICBkYXlMZWZ0ID0gMjkgLSBkYXlcbiAgICAgICAgfSBlbHNlIGlmIChhcnJheS5pbmNsdWRlcyhtb250aCkpIHtcbiAgICAgICAgICAgIGRheUxlZnQgPSAzMCAtIGRheVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5TGVmdCA9IDMxIC0gZGF5XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh5ZWFyID09IGV2ZW50WWVhciAmJiBtb250aCA9PSBldmVudE1vbnRoICYmIGRheSszID49IGV2ZW50RGF5KSB7XG4gICAgICAgICAgICBzZXRDYW5jZWxFcnJvcklkKGV2ZW50SWQpXG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA9PSBldmVudFllYXIgJiYgbW9udGgrMSA9PSBldmVudE1vbnRoICYmIGRheUxlZnQgKyBldmVudERheSA8PSAzKSB7XG4gICAgICAgICAgICBzZXRDYW5jZWxFcnJvcklkKGV2ZW50SWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJtaXRDYW5jZWwoZXZlbnRJZCwgZXZlbnREYXRlLCBldmVudFBsYWNlLCBldmVudFRpdGxlLCBldmVudEdlbmRlciwgZXZlbnRQcmljZSlcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgIH1cblxuICAgIGNvbnN0IHN1Ym1pdENhbmNlbCA9IChldmVudElkLCBldmVudERhdGUsIGV2ZW50UGxhY2UsIGV2ZW50VGl0bGUsIGV2ZW50R2VuZGVyLCBldmVudFByaWNlKSA9PiB7XG4gICAgICAgIGlmIChldmVudEdlbmRlciA9PSBcIm1lbnNcIikge1xuICAgICAgICAgICAgZGIuY29sbGVjdGlvbihcImV2ZW50c1wiKS5kb2MoY2FuY2VsSWQpLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgbWVuczogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuYXJyYXlSZW1vdmUoe1xuICAgICAgICAgICAgICAgICAgICBpZDogcHJvcHMudXNlci51aWQsXG4gICAgICAgICAgICAgICAgICAgIG1haWw6IHByb3BzLnVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BzLnVzZXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYi5jb2xsZWN0aW9uKFwiZXZlbnRzXCIpLmRvYyhjYW5jZWxJZCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB3b21lbnM6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLmFycmF5UmVtb3ZlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHByb3BzLnVzZXIudWlkLFxuICAgICAgICAgICAgICAgICAgICBtYWlsOiBwcm9wcy51c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9wcy51c2VyLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgbXQtNiBtYi02IHNtOm1heC13LWxnIHNtOm14LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+5Y+C5Yqg5LqI5a6a44Gu44Kk44OZ44Oz44OI44Oq44K544OIPC9oMj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvcHMuZXZlbnRzLm1hcCgoZXZlbnQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ub25lIGJvcmRlci10LTIgcHktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQubWVucy5tYXAoKG1hbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWFuLmlkID09IHByb3BzLnVzZXIudWlkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcG9zdHMvW2lkXVwiIGFzPXtgL3Bvc3RzLyR7ZXZlbnQuaWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGE+PGgzIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgdGV4dC1jZW50ZXJcIj57ZXZlbnQudGl0bGV9PC9oMz48L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPntldmVudC5kYXRlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+e2V2ZW50LnBsYWNlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7nlLfmgKcgMeS6ujwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPntldmVudC5tZW5zUHJpY2V95YaGPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsSWQgIT09IGV2ZW50LmlkID8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBpZD17ZXZlbnQuaWR9IG9uQ2xpY2s9e2Rpc3BsYXlDYW5jZWx9IGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBjdXJzb3ItcG9pbnRlciB0ZXh0LWNlbnRlclwiPuOCreODo+ODs+OCu+ODqzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsRXJyb3JJZCAhPT0gZXZlbnQuaWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPuS4iuiomOOBruOCpOODmeODs+ODiOOBruS6iOe0hOOCkuOCreODo+ODs+OCu+ODq+OBl+OBvuOBmeOBjOOCiOOCjeOBl+OBhOOBp+OBmeOBizwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLXNvbGlkIGJvcmRlci0yIHJvdW5kZWQgcC0yIG10LTEgYmctd2hpdGXjgIBvdXRsaW5lLW5vbmUgbXgtMVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCLjga/jgYRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBqdWRnZUNhbmNlbChldmVudC5pZCwgZXZlbnQuZGF0ZSwgZXZlbnQucGxhY2UsIGV2ZW50LnRpdGxlLCBcIm1lbnNcIiwgZXZlbnQucHJpY2UsIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiYm9yZGVyLXNvbGlkIGJvcmRlci0yIHJvdW5kZWQgcC0yIG10LTEgYmctd2hpdGXjgIBvdXRsaW5lLW5vbmUgbXgtMVwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIuOBhOOBhOOBiFwiIG9uQ2xpY2s9e2hpZGVDYW5jZWx9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+d2Vi5LiK44Gn44Kt44Oj44Oz44K744Or5Y+v6IO944Gq5pel44Gr44Gh44KS6LaF44GI44Gm44GE44G+44GZ44CCPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+44GK5omL5pWw44Gn44GZ44GM5Lul5LiL44Gu6Zu76Kmx55Wq5Y+344G+44Gn44GU6YCj57Wh44GP44Gg44GV44GEPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+e3Bob25lTnVtYmVyfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2V2ZW50LndvbWVucy5tYXAoKHdvbWFuKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt3b21hbi5pZCA9PSBwcm9wcy51c2VyLnVpZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3Bvc3RzL1tpZF1cIiBhcz17YC9wb3N0cy8ke2V2ZW50LmlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhPjxoMyBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIHRleHQtY2VudGVyXCI+e2V2ZW50LnRpdGxlfTwvaDM+PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57ZXZlbnQuZGF0ZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPntldmVudC5wbGFjZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+5aWz5oCnIDHkuro8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57ZXZlbnQud29tZW5zUHJpY2V95YaGPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsSWQgIT09IGV2ZW50LmlkID8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBpZD17ZXZlbnQuaWR9IG9uQ2xpY2s9e2Rpc3BsYXlDYW5jZWx9IGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBjdXJzb3ItcG9pbnRlciB0ZXh0LWNlbnRlclwiPuOCreODo+ODs+OCu+ODqzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsRXJyb3JJZCAhPT0gZXZlbnQuaWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPuS4iuiomOOBruOCpOODmeODs+ODiOOBruS6iOe0hOOCkuOCreODo+ODs+OCu+ODq+OBl+OBvuOBmeOBjOOCiOOCjeOBl+OBhOOBp+OBmeOBizwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLXNvbGlkIGJvcmRlci0yIHJvdW5kZWQgcC0yIG10LTEgYmctd2hpdGXjgIBvdXRsaW5lLW5vbmUgbXgtMVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCLjga/jgYRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBqdWRnZUNhbmNlbChldmVudC5pZCwgZXZlbnQuZGF0ZSwgZXZlbnQucGxhY2UsIGV2ZW50LnRpdGxlLCBcIndvbWVuc1wiLCBldmVudC5wcmljZSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJib3JkZXItc29saWQgYm9yZGVyLTIgcm91bmRlZCBwLTIgbXQtMSBiZy13aGl0ZeOAgG91dGxpbmUtbm9uZSBteC0xXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwi44GE44GE44GIXCIgb25DbGljaz17aGlkZUNhbmNlbH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj53ZWLkuIrjgafjgq3jg6Pjg7Pjgrvjg6vlj6/og73jgarml6XjgavjgaHjgpLotoXjgYjjgabjgYTjgb7jgZnjgII8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj7jgYrmiYvmlbDjgafjgZnjgYzku6XkuIvjga7pm7voqbHnlarlj7fjgb7jgafjgZTpgKPntaHjgY/jgaDjgZXjgYQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57cGhvbmVOdW1iZXJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgICAgIC5zYW1wbGUge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8L2FydGljbGU+XG4gICAgKVxufSJdfQ== */\\n/*@ sourceURL=/Users/tkak/sample/villageon/villageon/components/user/application.js */\"));\n}\n\n_s(Application, \"OQoQOgnQByELIXy078IyOc9NAr0=\");\n\n_c = Application;\n\nvar _c;\n\n$RefreshReg$(_c, \"Application\");","map":{"version":3,"sources":["/Users/tkak/sample/villageon/villageon/components/user/application.js"],"names":["Link","useState","useEffect","initFirebase","firebase","require","db","firestore","Application","props","cancelId","setCancelId","cancelErrorId","setCancelErrorId","displayCancel","id","event","target","hideCancel","judgeCancel","eventId","eventDate","eventPlace","eventTitle","eventGender","eventPrice","today","Date","eventYear","Number","substr","eventMonth","eventDay","date2","termDay","submitCancel","collection","doc","update","mens","FieldValue","arrayRemove","user","uid","mail","email","name","displayName","then","error","womens","events","map","man","title","date","place","mensPrice","e","price","phoneNumber","woman","womensPrice"],"mappings":"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","sourcesContent":["import Link from 'next/link'\nimport { useState, useEffect } from 'react'\n\nimport initFirebase from '../../components/initFirebase'\nimport firebase from \"firebase/app\"\nimport 'firebase/auth'\nrequire('firebase/auth')\nrequire(\"firebase/firestore\")\n\ninitFirebase()\nvar db = firebase.firestore()\n\n\nexport default function Application (props) {\n    const [cancelId, setCancelId] = useState(\"\")\n    const [cancelErrorId, setCancelErrorId] = useState(\"\")\n\n    const displayCancel = () => {\n        var id = event.target.id\n        setCancelId(id)\n    }\n    const hideCancel = () => {\n        setCancelId(\"\")\n    }\n    const judgeCancel = (eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice) => {\n        var today = new Date()\n        /*\n        var year = today.getFullYear()\n        var month = today.getMonth()+1\n        var day = today.getDate()\n        var array = [2,4,6,9,11]\n        var dayLeft\n        */\n        var eventYear = Number(eventId.substr(0,4))\n        var eventMonth = Number(eventId.substr(4,2))\n        var eventDay = Number(eventId.substr(6,2))\n        var date2 = new Date(eventYear, eventMonth, eventDay)\n        var termDay = (date2 - today) / 86400000;\n        if (termDay <= 3) {\n            setCancelErrorId(eventId)\n        } else {\n            submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice)\n        }\n        /*\n        if (month == 2) {\n            dayLeft = 29 - day\n        } else if (array.includes(month)) {\n            dayLeft = 30 - day\n        } else {\n            dayLeft = 31 - day\n        }\n        \n        if (year == eventYear && month == eventMonth && day+3 >= eventDay) {\n            setCancelErrorId(eventId)\n        } else if (year == eventYear && month+1 == eventMonth && dayLeft + eventDay <= 3) {\n            setCancelErrorId(eventId)\n        } else {\n            submitCancel(eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice)\n        }\n        */\n    }\n\n    const submitCancel = (eventId, eventDate, eventPlace, eventTitle, eventGender, eventPrice) => {\n        if (eventGender == \"mens\") {\n            db.collection(\"events\").doc(cancelId).update({\n                mens: firebase.firestore.FieldValue.arrayRemove({\n                    id: props.user.uid,\n                    mail: props.user.email,\n                    name: props.user.displayName,\n                })\n            }).then(function(){\n            }).catch(function(error){\n            })\n        } else {\n            db.collection(\"events\").doc(cancelId).update({\n                womens: firebase.firestore.FieldValue.arrayRemove({\n                    id: props.user.uid,\n                    mail: props.user.email,\n                    name: props.user.displayName,\n                })\n            }).then(function(){\n            }).catch(function(error){\n            })\n        }\n    }\n\n\n    return (\n        <article className=\"bg-white p-6 mt-6 mb-6 sm:max-w-lg sm:mx-auto\">\n            <div className=\"w-full\">\n                <h2 className=\"text-center\">参加予定のイベントリスト</h2>\n                <div>\n                    <ul>\n                        {props.events.map((event) => (\n                            <li className=\"list-none border-t-2 py-4\">\n                                {event.mens.map((man) => (\n                                    <div>\n                                        {man.id == props.user.uid ?\n                                            <div>\n                                                <Link href=\"/posts/[id]\" as={`/posts/${event.id}`}>\n                                                    <a><h3 className=\"text-blue-600 text-center\">{event.title}</h3></a>\n                                                </Link>\n                                                <p className=\"text-center\">{event.date}</p>\n                                                <p className=\"text-center\">{event.place}</p>\n                                                <div className=\"\">\n                                                    <p className=\"text-center\">男性 1人</p>\n                                                    <p className=\"text-center\">{event.mensPrice}円</p>\n                                                </div>\n                                                {cancelId !== event.id ? \n                                                    <div className=\"flex flex-col justify-center items-center\">\n                                                        <p id={event.id} onClick={displayCancel} className=\"text-red-600 cursor-pointer text-center\">キャンセル</p>\n                                                    </div>\n                                                :\n                                                    <div>\n                                                        {cancelErrorId !== event.id ?\n                                                            <div>\n                                                                <p className=\"text-center\">上記のイベントの予約をキャンセルしますがよろしいですか</p>\n                                                                <div className=\"flex justify-center\">\n                                                                    <input \n                                                                        className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" \n                                                                        type=\"button\" \n                                                                        value=\"はい\" \n                                                                        onClick={(e) => judgeCancel(event.id, event.date, event.place, event.title, \"mens\", event.price, e)}\n                                                                    />\n                                                                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" type=\"button\" value=\"いいえ\" onClick={hideCancel}/>\n                                                                </div>\n                                                            </div>\n                                                        :\n                                                            <div>\n                                                                <p className=\"text-center\">web上でキャンセル可能な日にちを超えています。</p>\n                                                                <p className=\"text-center\">お手数ですが以下の電話番号までご連絡ください</p>\n                                                                <p className=\"text-center\">{phoneNumber}</p>\n                                                            </div>\n                                                        }\n                                                    </div>\n                                                }\n                                            </div>\n                                        :\n                                        <div></div>\n                                        }\n                                    </div>\n                                ))}\n                                {event.womens.map((woman) => (\n                                    <div>\n                                        {woman.id == props.user.uid ?\n                                            <div>\n                                                <Link href=\"/posts/[id]\" as={`/posts/${event.id}`}>\n                                                    <a><h3 className=\"text-blue-600 text-center\">{event.title}</h3></a>\n                                                </Link>\n                                                <p className=\"text-center\">{event.date}</p>\n                                                <p className=\"text-center\">{event.place}</p>\n                                                <div className=\"\">\n                                                    <p className=\"text-center\">女性 1人</p>\n                                                    <p className=\"text-center\">{event.womensPrice}円</p>\n                                                </div>\n                                                {cancelId !== event.id ? \n                                                    <div className=\"flex flex-col justify-center items-center\">\n                                                        <p id={event.id} onClick={displayCancel} className=\"text-red-600 cursor-pointer text-center\">キャンセル</p>\n                                                    </div>\n                                                :\n                                                    <div>\n                                                        {cancelErrorId !== event.id ?\n                                                            <div>\n                                                                <p className=\"text-center\">上記のイベントの予約をキャンセルしますがよろしいですか</p>\n                                                                <div className=\"flex justify-center\">\n                                                                    <input \n                                                                        className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" \n                                                                        type=\"button\" \n                                                                        value=\"はい\" \n                                                                        onClick={(e) => judgeCancel(event.id, event.date, event.place, event.title, \"womens\", event.price, e)}\n                                                                    />\n                                                                    <input className=\"border-solid border-2 rounded p-2 mt-1 bg-white　outline-none mx-1\" type=\"button\" value=\"いいえ\" onClick={hideCancel}/>\n                                                                </div>\n                                                            </div>\n                                                        :\n                                                            <div>\n                                                                <p className=\"text-center\">web上でキャンセル可能な日にちを超えています。</p>\n                                                                <p className=\"text-center\">お手数ですが以下の電話番号までご連絡ください</p>\n                                                                <p className=\"text-center\">{phoneNumber}</p>\n                                                            </div>\n                                                        }\n                                                    </div>\n                                                }\n                                            </div>\n                                        :\n                                        <div></div>\n                                        }\n                                    </div>\n                                ))}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n            <style jsx>{`\n                .sample {\n                    background-color: red;\n                } \n            `}\n            </style>\n        </article>\n    )\n}"]},"metadata":{},"sourceType":"module"}