{"ast":null,"code":"var _jsxFileName = \"/Users/tkak/sample/villageon/villageon/pages/posts/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout, { phoneNumber } from '../../components/layout';\nimport Head from 'next/head';\nimport styles from '../../styles/posts.module.scss';\nimport { getAllPostIds, getPostData, getAttention, getBan } from '../../lib/posts';\nimport Link from 'next/link';\nimport initFirebase from '../../components/initFirebase';\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport { useState, useEffect } from 'react';\n\nrequire('firebase/auth');\n\nrequire(\"firebase/firestore\");\n\ninitFirebase();\nvar db = firebase.firestore();\nexport async function getStaticPaths() {\n  //return a list of possible value for id\n  const paths = getAllPostIds();\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  //fetch necessary data for \n  const postData = await getPostData(params.id);\n  const attention = await getAttention();\n  const ban = await getBan();\n  return {\n    props: {\n      postData,\n      attention,\n      ban\n    }\n  };\n}\nexport default function Post({\n  postData,\n  attention,\n  ban\n}) {\n  const {\n    0: user,\n    1: setUser\n  } = useState(\"\");\n  const {\n    0: first,\n    1: setFirst\n  } = useState(\"\");\n  const {\n    0: last,\n    1: setLast\n  } = useState(\"\");\n  const {\n    0: gender,\n    1: setGender\n  } = useState(\"man\");\n  const {\n    0: mount,\n    1: setMount\n  } = useState(true);\n  const {\n    0: display,\n    1: setDisplay\n  } = useState(false);\n  const {\n    0: applied,\n    1: setApplied\n  } = useState(false);\n  const {\n    0: verification,\n    1: setVerification\n  } = useState(false);\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      // User is signed in.\n      setUser(user);\n    } else {// No user is signed in.\n    }\n  });\n  useEffect(() => {\n    if (mount) {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          setUser(user);\n          setMount(false);\n        } else {// No user is signed in.\n        }\n      });\n    }\n  });\n\n  const submitApplication = event => {\n    db.collection(\"users\").doc(user.uid).update({\n      events: firebase.firestore.FieldValue.arrayUnion({\n        id: postData.id,\n        date: postData.date,\n        place: postData.place,\n        title: postData.title,\n        gender: gender,\n        price: gender == \"man\" ? postData.mensPrice : postData.womensPrice\n      })\n    }).then(function () {}).catch(function (error) {});\n\n    if (gender == \"man\") {\n      db.collection(\"events\").doc(postData.id).update({\n        mens: firebase.firestore.FieldValue.arrayUnion({\n          id: user.uid,\n          mail: user.email,\n          name: user.displayName\n        })\n      }).then(function () {\n        setApplied(true);\n      }).catch(function (error) {});\n    } else {\n      db.collection(\"events\").doc(postData.id).update({\n        womens: firebase.firestore.FieldValue.arrayUnion({\n          id: user.uid,\n          mail: user.email,\n          name: user.displayName\n        })\n      }).then(function () {\n        setApplied(true);\n      }).catch(function (error) {});\n    }\n  };\n\n  const displayPurchase = event => {\n    var gender = event.target.id;\n    setGender(gender);\n    setDisplay(true);\n  };\n\n  const hidePurchase = () => {\n    setDisplay(false);\n  };\n\n  const submitVerification = () => {\n    var actionCodeSettings = {\n      url: `http://localhost:3000/posts/${postData.id}`\n    };\n    user.sendEmailVerification(actionCodeSettings).then(function () {\n      setVerification(true);\n    });\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, postData.title)), __jsx(\"article\", {\n    className: styles.articleWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.meta,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, postData.title), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \"\\u65E5\\u6642 \", postData.date), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"\\u5834\\u6240 \", postData.place), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, \"\\u4F4F\\u6240 \", postData.address), __jsx(\"div\", {\n    className: styles.feeWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, !display ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: styles.fee,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: styles.mens,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, \"\\u7537\\u6027\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }, \"1\\u4EBA\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }, postData.mensPrice, \"\\u5186\"), __jsx(\"input\", {\n    id: \"man\",\n    type: \"button\",\n    value: \"\\u4E88\\u7D04\",\n    onClick: displayPurchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  })), __jsx(\"div\", {\n    className: styles.fee,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: styles.womens,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, \"\\u5973\\u6027\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, \"1\\u4EBA\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }, postData.womensPrice, \"\\u5186\"), __jsx(\"input\", {\n    id: \"woman\",\n    type: \"button\",\n    value: \"\\u4E88\\u7D04\",\n    onClick: displayPurchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  }))) : user ? user.emailVerified ? !applied ? __jsx(\"div\", {\n    className: styles.purchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: styles.hideButtonWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 41\n    }\n  }, __jsx(\"div\", {\n    className: styles.hideButton,\n    onClick: hidePurchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 45\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 103\n    }\n  }, \"\\xD7\"))), gender == \"man\" ? __jsx(\"div\", {\n    className: styles.fee,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 45\n    }\n  }, __jsx(\"p\", {\n    className: styles.mens,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 49\n    }\n  }, \"\\u7537\\u6027\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 49\n    }\n  }, \"1\\u4EBA\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 49\n    }\n  }, postData.mensPrice, \"\\u5186\")) : __jsx(\"div\", {\n    className: styles.fee,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 45\n    }\n  }, __jsx(\"p\", {\n    className: styles.womens,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 49\n    }\n  }, \"\\u5973\\u6027\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 49\n    }\n  }, \"1\\u4EBA\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 49\n    }\n  }, postData.womensPrice, \"\\u5186\")), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, \"\\u4EE5\\u4E0A\\u306B\\u9593\\u9055\\u3044\\u304C\\u306A\\u3044\\u304B\\u3092\\u78BA\\u8A8D\\u3057\\u305F\\u306E\\u3061\\u3001\\u4E0B\\u306E\\u30DC\\u30BF\\u30F3\\u3092\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"), __jsx(\"input\", {\n    type: \"button\",\n    value: \"\\u4E88\\u7D04\\u3059\\u308B\",\n    onClick: submitApplication,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  })) : __jsx(\"div\", {\n    className: styles.purchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 37\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 70\n    }\n  }, \"\\u4E88\\u7D04\\u3057\\u307E\\u3057\\u305F\")) : __jsx(\"div\", {\n    className: styles.purchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, !verification ? __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }, __jsx(\"p\", {\n    className: styles.link,\n    onClick: submitVerification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 45\n    }\n  }, \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u306E\\u78BA\\u8A8D\"), \"\\u304C\\u5B8C\\u4E86\\u3057\\u305F\\u306E\\u3061\\u3054\\u4E88\\u7D04\\u3067\\u304D\\u307E\\u3059\") : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 41\n    }\n  }, \"\\u3054\\u767B\\u9332\\u3044\\u305F\\u3060\\u3044\\u3066\\u308B\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u306B\\u78BA\\u8A8D\\u30E1\\u30FC\\u30EB\\u3092\\u9001\\u308A\\u307E\\u3057\\u305F\\u3002\")) : __jsx(\"div\", {\n    className: styles.purchase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, __jsx(Link, {\n    href: \"/sign/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 37\n    }\n  }, __jsx(\"a\", {\n    className: styles.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 41\n    }\n  }, \"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3092\\u4F5C\\u6210\")), \"\\u3057\\u3001\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u306E\\u78BA\\u8A8D\\u304C\\u5B8C\\u4E86\\u3057\\u305F\\u306E\\u3061\\u306B\\u3054\\u4E88\\u7D04\\u3067\\u304D\\u307E\\u3059\")))), __jsx(\"div\", {\n    className: styles.requirement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }, \"\\u53C2\\u52A0\\u6761\\u4EF6\"), __jsx(\"div\", {\n    className: styles.reqDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.reqContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 60\n    }\n  }, \"\\u7537\\u6027 \", postData.mensRequirement)), __jsx(\"div\", {\n    className: styles.reqContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 60\n    }\n  }, \"\\u5973\\u6027 \", postData.womensRequirement))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 25\n    }\n  }, \"\\u72EC\\u8EAB\\u30FB\\u5BFE\\u8C61\\u5E74\\u9F62\\u3067\\u3042\\u308B\\u3053\\u3068\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }\n  }), \"\\u53C2\\u52A0\\u6761\\u4EF6\\u304C\\u78BA\\u8A8D\\u3067\\u304D\\u306A\\u3044\\u3001\\u8A72\\u5F53\\u3057\\u306A\\u3044\\u5834\\u5408\\u3054\\u53C2\\u52A0\\u3092\\u304A\\u65AD\\u308A\\u3057\\u307E\\u3059\\u3002\\u305D\\u306E\\u5834\\u5408\\u53C2\\u52A0\\u8CBB\\u306E\\u3054\\u8FD4\\u91D1\\u306F\\u3054\\u3056\\u3044\\u307E\\u305B\\u3093\\u3002\")), __jsx(\"div\", {\n    className: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }, \"\\u958B\\u50AC4\\u65E5\\u524D\\u307E\\u3067\\u306F\", __jsx(Link, {\n    href: \"/user/details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 32\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 59\n    }\n  }, \"\\u30E6\\u30FC\\u30B6\\u30FC\\u60C5\\u5831\")), \"\\u304B\\u3089\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u3067\\u304D\\u307E\\u3059\\u3002\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, \"\\u958B\\u50AC3\\u65E5\\u524D\\u3088\\u308A\\u5F53\\u56E3\\u4F53\\u65E2\\u5B9A\\u306E\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u6599\\u91D1\\u304C\\u767A\\u751F\\u3057\\u3001web\\u4E0A\\u3067\\u306E\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\\u304C\\u3067\\u304D\\u307E\\u305B\\u3093\\u3002\\u4EE5\\u4E0B\\u306E\\u96FB\\u8A71\\u756A\\u53F7\\u307E\\u3067\\u3054\\u9023\\u7D61\\u304F\\u3060\\u3055\\u3044\\u3002\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, phoneNumber)), __jsx(\"div\", {\n    className: styles.content,\n    dangerouslySetInnerHTML: {\n      __html: postData.contentHtml\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: styles.attention,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }, \"\\u6CE8\\u610F\\u4E8B\\u9805\"), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: attention.contentHtml\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: styles.ban,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, \"\\u7981\\u6B62\\u4E8B\\u9805\"), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: ban.contentHtml\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/tkak/sample/villageon/villageon/pages/posts/[id].js"],"names":["Layout","phoneNumber","Head","styles","getAllPostIds","getPostData","getAttention","getBan","Link","initFirebase","firebase","useState","useEffect","require","db","firestore","getStaticPaths","paths","fallback","getStaticProps","params","postData","id","attention","ban","props","Post","user","setUser","first","setFirst","last","setLast","gender","setGender","mount","setMount","display","setDisplay","applied","setApplied","verification","setVerification","auth","onAuthStateChanged","submitApplication","event","collection","doc","uid","update","events","FieldValue","arrayUnion","date","place","title","price","mensPrice","womensPrice","then","catch","error","mens","mail","email","name","displayName","womens","displayPurchase","target","hidePurchase","submitVerification","actionCodeSettings","url","sendEmailVerification","articleWrapper","meta","address","feeWrapper","fee","emailVerified","purchase","hideButtonWrapper","hideButton","link","requirement","reqDetails","reqContent","mensRequirement","womensRequirement","content","__html","contentHtml"],"mappings":"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","sourcesContent":["import Layout, {phoneNumber} from '../../components/layout'\nimport Head from 'next/head'\nimport styles from '../../styles/posts.module.scss'\nimport { getAllPostIds, getPostData, getAttention, getBan } from '../../lib/posts'\nimport Link from 'next/link'\n\n\nimport initFirebase from '../../components/initFirebase'\nimport firebase from \"firebase/app\"\nimport 'firebase/auth'\nimport { useState, useEffect } from 'react'\nrequire('firebase/auth')\nrequire(\"firebase/firestore\")\n\ninitFirebase()\nvar db = firebase.firestore()\n\n\nexport async function getStaticPaths () {\n    //return a list of possible value for id\n    const paths = getAllPostIds()\n    return {\n        paths,\n        fallback: false\n    }\n}\n\nexport async function getStaticProps({params}) {\n    //fetch necessary data for \n    const postData = await getPostData(params.id)\n    const attention = await getAttention()\n    const ban = await getBan()\n    return {\n        props: {\n            postData,\n            attention,\n            ban\n        }\n    }\n}\n\nexport default function Post ({postData, attention, ban}) {\n    const [user, setUser] = useState(\"\")\n    const [first, setFirst] = useState(\"\")\n    const [last, setLast] = useState(\"\")\n    const [gender, setGender] = useState(\"man\")\n    const [mount, setMount] = useState(true)\n    const [display, setDisplay] = useState(false)\n    const [applied, setApplied] = useState(false)\n    const [verification, setVerification] = useState(false)\n\n    firebase.auth().onAuthStateChanged(function(user) {\n        if (user) {\n          // User is signed in.\n          setUser(user)\n        } else {\n          // No user is signed in.\n        }\n    })\n\n    useEffect(() => {\n        if (mount) {\n            firebase.auth().onAuthStateChanged(function(user) {\n                if (user) {\n                  // User is signed in.\n                  setUser(user)\n                  setMount(false)\n                } else {\n                  // No user is signed in.\n                }\n            })\n        }\n    })\n\n    const submitApplication = (event) => {\n        db.collection(\"users\").doc(user.uid).update({\n            events: firebase.firestore.FieldValue.arrayUnion({\n                id: postData.id, \n                date: postData.date, \n                place: postData.place,\n                title: postData.title,\n                gender: gender,\n                price: gender == \"man\" ? postData.mensPrice : postData.womensPrice\n            })\n        }).then(function(){\n        }).catch(function(error){\n        })\n        if (gender == \"man\") {\n            db.collection(\"events\").doc(postData.id).update({\n                mens: firebase.firestore.FieldValue.arrayUnion({\n                    id: user.uid,\n                    mail: user.email,\n                    name: user.displayName,\n                })\n            }).then(function(){\n                setApplied(true)\n            }).catch(function(error){\n            })\n        } else {\n            db.collection(\"events\").doc(postData.id).update({\n                womens: firebase.firestore.FieldValue.arrayUnion({\n                    id: user.uid,\n                    mail: user.email,\n                    name: user.displayName,\n                })\n            }).then(function(){\n                setApplied(true)\n            }).catch(function(error){\n            })\n        }        \n    }\n\n\n    const displayPurchase = (event) => {\n        var gender = event.target.id\n        setGender(gender)\n        setDisplay(true)\n    }\n\n    const hidePurchase = () => {\n        setDisplay(false)\n    }\n\n    const submitVerification = ()　=> {\n        var actionCodeSettings = {\n            url: `http://localhost:3000/posts/${postData.id}`,\n        }\n        user.sendEmailVerification(actionCodeSettings).then(\n            function() {\n                setVerification(true)\n            }\n        )\n    }\n\n    return (\n        <Layout>\n            <Head>\n                <title>{postData.title}</title>\n            </Head>\n            <article className={styles.articleWrapper}>\n                <div className={styles.meta}>\n                    <h1>{postData.title}</h1>\n                    <p>日時 {postData.date}</p>\n                    <p>場所 {postData.place}</p>\n                    <p>住所 {postData.address}</p>\n                    <div className={styles.feeWrapper}>\n                        {!display ? \n                            <div>\n                                <div className={styles.fee}>\n                                    <p className={styles.mens}>男性</p>\n                                    <p>1人</p>\n                                    <p>{postData.mensPrice}円</p>\n                                    <input id=\"man\" type=\"button\" value=\"予約\" onClick={displayPurchase}/>\n                                </div>\n                                <div className={styles.fee}>\n                                    <p className={styles.womens}>女性</p>\n                                    <p>1人</p>\n                                    <p>{postData.womensPrice}円</p>\n                                    <input id=\"woman\" type=\"button\" value=\"予約\" onClick={displayPurchase}/>\n                                </div>\n                            </div>\n                        : user ?\n                            user.emailVerified ?\n                                !applied ?\n                                    <div className={styles.purchase}>\n                                        <div className={styles.hideButtonWrapper}>\n                                            <div className={styles.hideButton} onClick={hidePurchase}><p>×</p></div>\n                                        </div>\n                                        {gender == \"man\" ? \n                                            <div className={styles.fee}>\n                                                <p className={styles.mens}>男性</p>\n                                                <p>1人</p>\n                                                <p>{postData.mensPrice}円</p>\n                                            </div>\n                                        :\n                                            <div className={styles.fee}>\n                                                <p className={styles.womens}>女性</p>\n                                                <p>1人</p>\n                                                <p>{postData.womensPrice}円</p>\n                                            </div>\n                                        }\n                                        <p>以上に間違いがないかを確認したのち、下のボタンをクリックしてください</p>\n                                        <input type=\"button\" value=\"予約する\" onClick={submitApplication}/>\n                                    </div>\n                                :\n                                    <div className={styles.purchase}><p>予約しました</p></div>\n                            :\n                                <div className={styles.purchase}>\n                                    {!verification ?\n                                        <p>\n                                            <p className={styles.link} onClick={submitVerification}>メールアドレスの確認</p>\n                                            が完了したのちご予約できます\n                                        </p>\n                                    :\n                                        <p>\n                                            ご登録いただいてるメールアドレスに確認メールを送りました。\n                                        </p>\n                                    }\n                                </div>\n                        :\n                            <div className={styles.purchase}>\n                                <p>\n                                    <Link href=\"/sign/signup\">\n                                        <a className={styles.link}>アカウントを作成</a>\n                                    </Link>\n                                    し、メールアドレスの確認が完了したのちにご予約できます\n                                </p>\n                            </div>\n                        }\n                    </div>\n                </div>\n                <div className={styles.requirement}>\n                    <h2>参加条件</h2>\n                    <div className={styles.reqDetails}>\n                        <div className={styles.reqContent}><p>男性 {postData.mensRequirement}</p></div>\n                        <div className={styles.reqContent}><p>女性 {postData.womensRequirement}</p></div>\n                    </div>\n                    <p>\n                        <strong>\n                            独身・対象年齢であること\n                        </strong>\n                        <br/>\n                        参加条件が確認できない、該当しない場合ご参加をお断りします。その場合参加費のご返金はございません。\n                    </p>\n                </div>\n                <div className={styles.content}>\n                    <h2>キャンセル</h2>\n                    <p>開催4日前までは<Link href=\"/user/details\"><a>ユーザー情報</a></Link>からキャンセルできます。</p>\n                    <p>開催3日前より当団体既定のキャンセル料金が発生し、web上でのキャンセルができません。以下の電話番号までご連絡ください。</p>\n                    <p>{phoneNumber}</p>\n                </div>\n                <div className={styles.content} dangerouslySetInnerHTML={{ __html: postData.contentHtml }}/>\n                <div className={styles.attention}>\n                    <h2>注意事項</h2>\n                    <div dangerouslySetInnerHTML={{ __html: attention.contentHtml }}/>\n                </div>\n                <div className={styles.ban}>\n                    <h2>禁止事項</h2>\n                    <div dangerouslySetInnerHTML={{ __html: ban.contentHtml }}/>\n                </div>\n            </article>\n        </Layout>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}